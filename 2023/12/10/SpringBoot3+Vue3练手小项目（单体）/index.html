<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>大事件（新闻后台管理） | 小黄鸭的博客</title><meta name="keywords" content="Vue,SpringBoot"><meta name="author" content="小黄鸭睡大觉,1294266513@qq.com"><meta name="copyright" content="小黄鸭睡大觉"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="大事件（新闻后台管理）"><meta name="application-name" content="大事件（新闻后台管理）"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="大事件（新闻后台管理）"><meta property="og:url" content="http://example.com/2023/12/10/SpringBoot3+Vue3%E7%BB%83%E6%89%8B%E5%B0%8F%E9%A1%B9%E7%9B%AE%EF%BC%88%E5%8D%95%E4%BD%93%EF%BC%89/index.html"><meta property="og:site_name" content="小黄鸭的博客"><meta property="og:description" content="SpringBoot3+Vue3练手小项目"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/image-20231210081125494.png"><meta property="article:author" content="小黄鸭睡大觉"><meta property="article:tag" content="小黄鸭"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/image-20231210081125494.png"><meta name="description" content="SpringBoot3+Vue3练手小项目"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="http://example.com/2023/12/10/SpringBoot3+Vue3%E7%BB%83%E6%89%8B%E5%B0%8F%E9%A1%B9%E7%9B%AE%EF%BC%88%E5%8D%95%E4%BD%93%EF%BC%89/"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2023/09/03/125766904/ee23df8517f3c3e3efc4145658269c06_5714860933110284659.png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: 'https://yellowduck.netlify.app/.netlify/functions/twikoo',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["🤖️ 平平无奇爱睡觉"]},
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: 小黄鸭睡大觉","link":"链接: ","source":"来源: 小黄鸭的博客","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '小黄鸭的博客',
  title: '大事件（新闻后台管理）',
  postAI: '',
  pageFillDescription: '大事件（单体新闻后台管理）, 后端, 开发接口流程, 环境搭建, SpringBoot配置方式, 集成Redis, 参数校验框架Spring Validation, 统一响应结果, JWT登陆验证, ThreadLocal存储用户信息, OSS对象存储（七牛云）, FastJson配置, 用户相关接口, 1. 注册, 1.1 基本信息, 1.2 请求参数, 1.3 响应数据, 2.登录, 2.1 基本信息, 2.2 请求参数, 2.3 响应数据, 2.4 备注说明, 3.获取用户详细信息, 3.1 基本信息, 3.2 请求参数, 3.3 响应数据, 4.更新用户基本信息, 4.1 基本信息, 4.2 请求参数, 4.3 响应数据, 5.更新用户头像, 5.1 基本信息, 5.2 请求参数, 5.3 响应数据, 6.更新用户密码, 6.1 基本信息, 6.2 请求参数, 6.3 响应数据, 文章分类相关接口, 1 新增文章分类, 1.1 基本信息, 1.2 请求参数, 1.3 响应数据, 2. 文章分类列表, 2.1 基本信息, 2.2 请求参数, 2.3 响应数据, 3.获取文章分类详情, 3.1 基本信息, 3.2 请求参数, 3.3 响应数据, 4. 更新文章分类, 4.1 基本信息, 4.2 请求参数, 4.3 响应数据, 5.删除文章分类, 5.1 基本信息, 5.2 请求参数, 5.3 响应数据, 文章管理相关接口, 1. 新增文章, 1.1 基本信息, 1.2 请求参数, 1.3 响应数据, 2. 文章列表（条件分页）, 2.1 基本信息, 2.2 请求参数, 2.3 响应数据, 3. 文章详情, 3.1 基本信息, 3.2 请求参数, 3.3 响应数据, 4. 更新文章, 4.1 基本信息, 4.2 请求参数, 4.3 响应数据, 5. 删除文章, 5.1 基本信息, 5.2 请求参数, 5.3 响应数据, 其他接口, 1. 文件上传接口, 1.1 基本信息, 1.2 请求参数, 1.3 响应数据, 打包, 前端, 环境搭建, 配合husky提交前做代码检查, 无端, ApiFox大事件单体新闻后台管理引用站外地址大事件项目本课程以企业实际应用为切入点企业怎么用课程怎么讲企业用什么课程讲什么内容涉及到知识点参数校验框架缓存技术认证技术单元测试数据库框架前端主流框架基础知识点异步函数库路由状态管理工程化开发等课程中包含的大事件案例完整实现了前端和后端的需求如果要做毕业设计参考本课程会非常适合学完本门课程针对单体应用的前后端学员应对起来都能游刃有余后端开发接口流程明确需求阅读接口文档思路分析开发测试环境搭建在本地数据库执行脚本准备数据库表脚本创建数据库使用数据库用户表用户名密码昵称邮箱头像创建时间修改时间用户表分类表分类名称分类别名创建人创建时间修改时间文章表文章标题文章内容文章封面草稿文章状态只能是已发布或者草稿文章分类创建人创建时间修改时间这里与黑马提供的不同我把外键约束删了创建工程引入对应的依赖驱动使用手动创建项目手动创建项目是没有目录的需手动添加在目录创建文件在文件中导入依赖依赖配置使项目成为项目打成包单元测试依赖依赖依赖依赖依赖依赖在文件编写配置开启驼峰命名和下划线命名的自动转换创建包结构并准备实体类创建包导入实体类修改启动类成功启动配置方式项目中目录下的包所在目录下的操作系统环境变量命令行参数优先级由高到低依次增加集成引入依赖依赖配置链接信息调用完成字符串的存取操作参数校验框架提供的一个参数校验框架使用预定义的注解完成参数校验引入起步依赖依赖参数校验简单数据类型在参数前面添加注解还有等注解为需要匹配的规则对象数据类型主键用户名密码昵称邮箱在参数前面添加注解常用的注解被注释的元素必须为被注释的元素不能为可以为空字符串被注释的元素必须为被注释的元素必须为被注释的元素必须是一个数字其值必须大于等于指定的最小值被注释的元素必须是一个数字其值必须小于等于指定的最大值被注释的元素必须是一个数字其值必须大于等于指定的最小值被注释的元素必须是一个数字其值必须小于等于指定的最大值被注释的元素的大小必须在指定的范围内被注释的元素必须是一个数字其值必须在可接受的范围内被注释的元素必须是一个过去的日期被注释的元素必须是一个将来的日期被注释的元素必须符合指定的正则表达式被注释的元素必须是电子邮件地址被注释的字符串的大小必须在指定的范围内被注释的元素必须在合适的范围内用在集合类上不能为并且长度必须大于只能作用在上不能为而且调用后长度必须大于在类上添加注解还未学习分组校验自定义校验业务需求总是比框架提供的这些简单校验要复杂的多我们可以自定义校验来满足我们的需求自定义约束注解提供校验规则的类提供校验失败后的提示信息文章状态只能是已发布或者草稿指定分组负载获取到注解的附加信息一般用不着实现接口编写约束校验器泛型的第一参数为为哪个注解提供校验规则第二参数为要校验的数据类型已发布草稿一般配合下面的统一异常处理统一响应结果使用响应枚举类来给前端提供信息成功操作成功登录需要登录后操作无权限操作出现错误用户名已存在手机号已存在邮箱已存在必需填写用户名评论内容不能为空文件类型错误用户名不能为空昵称不能为空密码不能为空邮箱不能为空昵称已存在用户名或密码错误正常结果处理统一响应结果无参构造器默认成功有参快速返回错误结果快速返回成功结果统一异常处理为什么我们需要自定义异常因为在某些情况下我们需要返回我们自定义的响应格式非常不方便如在处理用户鉴权或校验的时候因为像这些部分我们一般都是在单独的工具类中去处理这时候如果报错其实就可以抛出我们自定义的异常交由我们全局的异常处理去统一返回响应在包创建以下类自定义异常类全局异常处理类出现了异常兜底出现了异常登陆验证全称定义了一种简洁的自包含的格式用于通信双方以数据格式安全的传输信息组成第一部分头记录令牌类型签名算法等例如第二部分有效载荷携带些自定义信息默认信息等例如第三部分签告防止被篡改确保安全性将并加入指定秘钥通过指定签名算法计算而来在项目中使用引入依赖依赖工具类接收业务数据生成并返回接收验证并返回业务数据创建拦截器对需要验证的请求进行验证创建包编写获取令牌验证放行响应码设为不放行注册拦截器使之生效创建包编写类登录接口和注册接口不拦截存储用户信息作用方便拿用户信息且线程安全引入工具类提供对象根据键获取值存储键值对清除防止内存泄漏响应拦截器中存储用户信息解析用户信息放入获取从拿到数据在响应拦截器中配置方法防止内存泄漏清空中的数据对象存储七牛云如果把图片视频等文件上传到自己的应用的服务器在读取图片的时候会占用比较多的资源影响应用服务器的性能所以我们一般使用对象存储服务存储图片或视频使用七牛云引入依赖七牛云解决七牛云报错引入的依赖配置文件路径的工具类根据日期生成路径作为文件名后缀和文件后缀一致自己加了一层文件放在放在项目目录下具体服务层代码实现文件上传判断文件类型获取原始文件名对原始文件名进行判断如果不是文件报错如果判断通过上传文件到构造一个带指定对象的配置类其他参数参考类注释默认不指定的情况下以文件内容的值作为文件名解析上传成功的结果配置配置消息转换器解决时间格式的问题前端也能做实际中看谁说话强硬引入依赖依赖在中配置使用注入需要定义一个转换消息的对象其他的注解作用于对象属性上让把当前对象转换成字符串的时候忽略此属性最终的字符串中就没有这个属性了一般用户密码字段相关接口文档用户相关接口注册基本信息请求路径请求方式接口描述该接口用于注册新用户请求参数请求参数格式请求参数说明参数名称说明类型是否必须备注用户名是位非空字符密码是位非空字符请求数据样例响应数据响应数据类型响应参数说明名称类型是否必须默认值备注其他信息必须响应码成功非失败非必须提示信息非必须返回的数据响应数据样例操作成功登录基本信息请求路径请求方式接口描述该接口用于登录请求参数请求参数格式请求参数说明参数名称说明类型是否必须备注用户名是位非空字符密码是位非空字符请求数据样例响应数据响应数据类型响应参数说明名称类型是否必须默认值备注其他信息必须响应码成功非失败非必须提示信息必须返回的数据令牌响应数据样例操作成功备注说明用户登录成功后系统会自动下发令牌然后在后续的每次请求中浏览器都需要在请求头中携带到服务端请求头的名称为值为登录时下发的令牌如果检测到用户未登录则响应状态码为获取用户详细信息基本信息请求路径请求方式接口描述该接口用于获取当前已登录用户的详细信息请求参数无响应数据响应数据类型响应参数说明名称类型是否必须默认值备注其他信息必须响应码成功非失败非必须提示信息必须返回的数据非必须主键非必须用户名非必须昵称非必须邮箱非必须头像地址非必须创建时间非必须更新时间响应数据样例操作成功更新用户基本信息基本信息请求路径请求方式接口描述该接口用于更新已登录用户的基本信息除头像和密码请求参数请求参数格式请求参数说明参数名称说明类型是否必须备注主键是用户名否位非空字符昵称是位非空字符邮箱是满足邮箱的格式请求数据样例响应数据响应数据类型响应参数说明名称类型是否必须默认值备注其他信息必须响应码成功非失败非必须提示信息非必须返回的数据响应数据样例操作成功更新用户头像基本信息请求路径请求方式接口描述该接口用于更新已登录用户的头像请求参数请求参数格式请求参数说明参数名称说明类型是否必须备注头像地址是地址请求数据样例响应数据响应数据类型响应参数说明名称类型是否必须默认值备注其他信息必须响应码成功非失败非必须提示信息非必须返回的数据响应数据样例操作成功更新用户密码基本信息请求路径请求方式接口描述该接口用于更新已登录用户的密码请求参数请求参数格式请求参数说明参数名称说明类型是否必须备注原密码是新密码是确认新密码是请求数据样例响应数据响应数据类型响应参数说明名称类型是否必须默认值备注其他信息必须响应码成功非失败非必须提示信息非必须返回的数据响应数据样例操作成功文章分类相关接口新增文章分类基本信息请求路径请求方式接口描述该接口用于新增文章分类请求参数请求参数格式请求参数说明参数名称说明类型是否必须备注分类名称是分类别名是请求数据样例人文响应数据响应数据类型响应参数说明名称类型是否必须默认值备注其他信息必须响应码成功非失败非必须提示信息非必须返回的数据响应数据样例操作成功文章分类列表基本信息请求路径请求方式接口描述该接口用于获取当前已登录用户创建的所有文章分类请求参数无响应数据响应数据类型响应参数说明名称类型是否必须默认值备注其他信息必须响应码成功非失败非必须提示信息必须返回的数据非必须主键非必须分类名称非必须分类别名非必须创建时间非必须修改时间响应数据样例操作成功美食娱乐军事获取文章分类详情基本信息请求路径请求方式接口描述该接口用于根据获取文章分类详情请求参数请求参数格式请求参数说明参数名称说明类型是否必须备注主键是请求数据样例响应数据响应数据类型响应参数说明名称类型是否必须默认值备注其他信息必须响应码成功非失败非必须提示信息必须返回的数据非必须主键非必须分类名称非必须分类别名非必须创建时间非必须修改时间响应数据样例操作成功风土人情更新文章分类基本信息请求路径请求方式接口描述该接口用于更新文章分类请求参数请求参数格式请求参数说明参数名称说明类型是否必须备注主键是分类名称是分类别名是请求数据样例风土人情响应数据响应数据类型响应参数说明名称类型是否必须默认值备注其他信息必须响应码成功非失败非必须提示信息非必须返回的数据响应数据样例操作成功删除文章分类基本信息请求路径请求方式接口描述该接口用于根据删除文章分类请求参数请求参数格式请求参数说明参数名称说明类型是否必须备注主键是请求数据样例响应数据响应数据类型响应参数说明名称类型是否必须默认值备注其他信息必须响应码成功非失败非必须提示信息非必须返回的数据响应数据样例操作成功文章管理相关接口新增文章基本信息请求路径请求方式接口描述该接口用于新增文章发布文章请求参数请求参数格式请求参数说明参数名称说明类型是否必须备注文章标题是个非空字符文章正文是封面图像地址是必须是地址发布状态是已发布草稿文章分类是请求数据样例陕西旅游攻略兵马俑华清池法门寺华山爱去哪去哪草稿响应数据响应数据类型响应参数说明名称类型是否必须默认值备注其他信息必须响应码成功非失败非必须提示信息非必须返回的数据响应数据样例操作成功文章列表条件分页基本信息请求路径请求方式接口描述该接口用于根据条件查询文章带分页请求参数请求参数格式请求参数说明参数名称说明类型是否必须备注当前页码是每页条数是文章分类否发布状态否已发布草稿请求数据样例草稿响应数据响应数据类型响应参数说明名称类型是否必须默认值备注其他信息必须响应码成功非失败非必须提示信息必须返回的数据必须总记录数必须数据列表非必须主键非必须文章标题非必须文章正文非必须文章封面图像地址非必须发布状态已发布草稿非必须文章分类非必须创建时间非必须更新时间响应数据样例操作成功陕西旅游攻略兵马俑华清池法门寺华山爱去哪去哪草稿文章详情基本信息请求路径请求方式接口描述该接口用于根据获取文章详细信息请求参数请求参数格式请求参数说明参数名称说明类型是否必须备注主键是请求数据样例响应数据响应数据类型响应参数说明名称类型是否必须默认值备注其他信息必须响应码成功非失败非必须提示信息必须返回的数据非必须主键非必须文章标题非必须文章正文非必须文章封面图像地址非必须发布状态已发布草稿非必须文章分类非必须创建时间非必须更新时间响应数据样例操作成功北京旅游攻略天安门颐和园鸟巢长城爱去哪去哪已发布更新文章基本信息请求路径请求方式接口描述该接口用于更新文章信息请求参数请求参数格式请求参数说明参数名称说明类型是否必须备注主键是文章标题是文章正文是封面图像地址是发布状态是已发布草稿文章分类是请求数据样例北京旅游攻略天安门颐和园鸟巢长城爱去哪去哪已发布响应数据响应数据类型响应参数说明名称类型是否必须默认值备注其他信息必须响应码成功非失败非必须提示信息非必须返回的数据响应数据样例操作成功删除文章基本信息请求路径请求方式接口描述该接口用于根据删除文章请求参数请求参数格式请求参数说明参数名称说明类型是否必须备注主键是请求数据样例响应数据响应数据类型响应参数说明名称类型是否必须默认值备注其他信息必须响应码成功非失败非必须提示信息非必须返回的数据响应数据样例操作成功其他接口文件上传接口基本信息请求路径请求方式接口描述该接口用于上传文件单文件请求参数请求参数格式请求参数说明参数名称说明类型是否必须备注表单中文件请求参数的名字是请求数据样例无响应数据响应数据类型响应参数说明名称类型是否必须默认值备注其他信息必须响应码成功非失败非必须提示信息必须图像在七牛云上的存储地址响应数据样例操作成功打包引入插件依赖版本与版本最好一致在处执行命令前端环境搭建使用包管理器搭建项目优势比同类工具快倍左右节省磁盘空间安装创建项目启动项目配置配合规范代码环境同步安装了插件开启保存自动修复禁用了插件并关闭保存自动格式化插件配置实现自动格式化修复配置文件添加以下规则单引号无分号每行宽度至多字符不加对象数组最后逗号换行符号不限制不一致组件名称多单词组成忽略关闭解构的校验添加未定义变量错误提示关闭这里加上是为了支持下一个章节演示目录调整默认生成的目录结构不满足我们的开发需求所以这里需要做一些自定义改动主要是以下工作删除一些初始化的默认文件修改剩余代码内容新增调整我们需要的目录结构拷贝全局样式和图片安装预处理器支持将项目需要的全局样式和图片文件复制到文件夹中并将全局样式在中引入安装依赖配合提交前做代码检查是一个工具的钩子工具可以在特定时机执行特定的命令初始化安装修改文件问题默认进行的是全量检查耗时问题历史问题解决配置只对提交的代码做检查安装配置省略省略修改文件无端快速入门帮助文档在上测试接口时如果遇到需要每一都都要输入比较麻烦所以使用的前置脚本为每一次请求添加但是要注意的有效期代码折叠框',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-12-13 02:44:17',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="/img/avatar.gif"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://codebygzt.github.io/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">小黄鸭的博客</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/imagese9da38ace7c6efebbc019165f19ba97.jpg" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/imagese9da38ace7c6efebbc019165f19ba97.jpg"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/images13f7b013f6af1a826dd7b722331f760.jpg" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/images13f7b013f6af1a826dd7b722331f760.jpg"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Docker/" style="font-size: 1.05rem;">Docker<sup>1</sup></a><a href="/tags/SpringBoot3/" style="font-size: 1.05rem;">SpringBoot3<sup>1</sup></a><a href="/tags/Vue3/" style="font-size: 1.05rem;">Vue3<sup>2</sup></a><a href="/tags/%E5%9B%BE%E7%89%87%E5%AD%98%E5%82%A8/" style="font-size: 1.05rem;">图片存储<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/12/"><span class="card-archive-list-date">十二月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">八月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%A1%B9%E7%9B%AE/" itemprop="url">项目</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/Vue3/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Vue3</span></a><a class="article-meta__tags" href="/tags/SpringBoot3/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>SpringBoot3</span></a></span></div></div><h1 class="post-title" itemprop="name headline">大事件（新闻后台管理）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2023-12-10T08:00:19.000Z" title="发表于 2023-12-10 08:00:19">2023-12-10</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2023-12-13T02:44:17.454Z" title="更新于 2023-12-13 02:44:17">2023-12-13</time></span></div><div class="meta-secondline"><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为长沙"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>长沙</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/image-20231210081125494.png"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://example.com/2023/12/10/SpringBoot3+Vue3%E7%BB%83%E6%89%8B%E5%B0%8F%E9%A1%B9%E7%9B%AE%EF%BC%88%E5%8D%95%E4%BD%93%EF%BC%89/"><header><a class="post-meta-categories" href="/categories/%E9%A1%B9%E7%9B%AE/" itemprop="url">项目</a><a href="/tags/Vue3/" tabindex="-1" itemprop="url">Vue3</a><a href="/tags/SpringBoot3/" tabindex="-1" itemprop="url">SpringBoot3</a><h1 id="CrawlerTitle" itemprop="name headline">大事件（新闻后台管理）</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">小黄鸭睡大觉</span><time itemprop="dateCreated datePublished" datetime="2023-12-10T08:00:19.000Z" title="发表于 2023-12-10 08:00:19">2023-12-10</time><time itemprop="dateCreated datePublished" datetime="2023-12-13T02:44:17.454Z" title="更新于 2023-12-13 02:44:17">2023-12-13</time></header><h1 id="大事件（单体新闻后台管理）"><a href="#大事件（单体新闻后台管理）" class="headerlink" title="大事件（单体新闻后台管理）"></a>大事件（单体新闻后台管理）</h1><div calss='anzhiyu-tag-link'><a class="tag-Link" target="_blank" href="https://www.bilibili.com/video/BV14z4y1N7pg?p=1&vd_source=a636cc6f0862c0f87f1c9b3d84619975">
    <div class="tag-link-tips">引用站外地址</div>
    <div class="tag-link-bottom">
        <div class="tag-link-left" style="background-image: url(https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/image-20231210081125494.png)">
          <i class="anzhiyufont anzhiyu-icon-link" style="display: none"></i>
        </div>
        <div class="tag-link-right">
            <div class="tag-link-title">大事件项目</div>
            <div class="tag-link-sitename">本课程以企业实际应用为切入点，企业怎么用，课程怎么讲，企业用什么，课程讲什么。内容涉及到SpringBoot知识点、参数校验框架Validation，缓存技术redis，认证技术jwt，单元测试junit，数据库框架mybatis。前端主流框架vue基础知识点，axios异步函数库，vue-router路由，pinia状态管理，工程化开发等。课程中包含的大事件案例，完整实现了前端和后端的需求，如果要做毕业设计，参考本课程会非常适合。学完本门课程，针对单体应用的前后端，学员应对起来都能游刃有余。</div>
        </div>
        <i class="anzhiyufont anzhiyu-icon-angle-right"></i>
    </div>
    </a></div>

<h2 id="后端"><a href="#后端" class="headerlink" title="后端"></a>后端</h2><h3 id="开发接口流程"><a href="#开发接口流程" class="headerlink" title="开发接口流程"></a>开发接口流程</h3><div class="mermaid-wrap"><pre class="mermaid-src" hidden>
  flowchart LR
    明确需求 --&gt; 阅读接口文档 --&gt; 思路分析 --&gt; 开发 --&gt; 测试
  </pre></div>

<h3 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h3><ol>
<li><p>在本地数据库执行big_event.sql脚本， 准备数据库表</p>
<details class="folding-tag" green><summary> sql脚本 </summary>
              <div class='content'>
              <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建数据库</span></span><br><span class="line"><span class="keyword">create</span> database big_event;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 使用数据库</span></span><br><span class="line">use big_event;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 用户表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">user</span> (</span><br><span class="line">                      id <span class="type">int</span> unsigned <span class="keyword">primary</span> key auto_increment comment <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">                      username <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">unique</span> comment <span class="string">&#x27;用户名&#x27;</span>,</span><br><span class="line">                      password <span class="type">varchar</span>(<span class="number">32</span>)  comment <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">                      nickname <span class="type">varchar</span>(<span class="number">10</span>)  <span class="keyword">default</span> <span class="string">&#x27;&#x27;</span> comment <span class="string">&#x27;昵称&#x27;</span>,</span><br><span class="line">                      email <span class="type">varchar</span>(<span class="number">128</span>) <span class="keyword">default</span> <span class="string">&#x27;&#x27;</span> comment <span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line">                      user_pic <span class="type">varchar</span>(<span class="number">128</span>) <span class="keyword">default</span> <span class="string">&#x27;&#x27;</span> comment <span class="string">&#x27;头像&#x27;</span>,</span><br><span class="line">                      create_time datetime <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;创建时间&#x27;</span>,</span><br><span class="line">                      update_time datetime <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;修改时间&#x27;</span></span><br><span class="line">) comment <span class="string">&#x27;用户表&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 分类表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> category(</span><br><span class="line">                         id <span class="type">int</span> unsigned <span class="keyword">primary</span> key auto_increment comment <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">                         category_name <span class="type">varchar</span>(<span class="number">32</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;分类名称&#x27;</span>,</span><br><span class="line">                         category_alias <span class="type">varchar</span>(<span class="number">32</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;分类别名&#x27;</span>,</span><br><span class="line">                         create_user <span class="type">int</span> unsigned <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;创建人ID&#x27;</span>,</span><br><span class="line">                         create_time datetime <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;创建时间&#x27;</span>,</span><br><span class="line">                         update_time datetime <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;修改时间&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 文章表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> article(</span><br><span class="line">                        id <span class="type">int</span> unsigned <span class="keyword">primary</span> key auto_increment comment <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">                        title <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;文章标题&#x27;</span>,</span><br><span class="line">                        content <span class="type">varchar</span>(<span class="number">10000</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;文章内容&#x27;</span>,</span><br><span class="line">                        cover_img <span class="type">varchar</span>(<span class="number">128</span>) <span class="keyword">not</span> <span class="keyword">null</span>  comment <span class="string">&#x27;文章封面&#x27;</span>,</span><br><span class="line">                        state <span class="type">varchar</span>(<span class="number">3</span>) <span class="keyword">default</span> <span class="string">&#x27;草稿&#x27;</span> comment <span class="string">&#x27;文章状态: 只能是[已发布] 或者 [草稿]&#x27;</span>,</span><br><span class="line">                        category_id <span class="type">int</span> unsigned comment <span class="string">&#x27;文章分类ID&#x27;</span>,</span><br><span class="line">                        create_user <span class="type">int</span> unsigned <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;创建人ID&#x27;</span>,</span><br><span class="line">                        create_time datetime <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;创建时间&#x27;</span>,</span><br><span class="line">                        update_time datetime <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;修改时间&#x27;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<div class="note danger modern"><p>这里与黑马提供的不同，我把外键约束删了</p>
</div>
</li>
<li><p>创建springboot工程，引入对应的依赖(web. mybatis. mysql驱动)</p>
<ul>
<li><p>使用maven手动创建项目</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/image-20231210085336158.png" alt="20231210085336158"></p>
</li>
<li><p>maven手动创建项目是没有resources目录的，需手动添加</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/image-20231210090117485.png" alt="image-20231210090117485"></p>
</li>
<li><p>在resources目录创建<code>application.yml</code>文件</p>
</li>
<li><p>在pom文件中导入依赖</p>
<details class="folding-tag" green><summary> 依赖配置 </summary>
              <div class='content'>
              <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 使项目成为springboot项目  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 打成jar包   --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 单元测试依赖   --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- web依赖   --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- mybatis依赖   --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- mysql依赖   --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- lombok依赖   --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- pageHelper依赖   --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
              </div>
            </details></li>
</ul>
</li>
<li><p>在<code>application.yml</code>文件编写配置</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> </span><br><span class="line">    <span class="attr">username:</span> </span><br><span class="line">    <span class="attr">password:</span> </span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8642</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># 开启驼峰命名和下划线命名的自动转换</span></span><br><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>创建包结构，并准备实体类</p>
<p>创建controller、pojo、service、…包</p>
<p>导入实体类</p>
<p>修改启动类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BigEventApplication</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">( String[] args )</span></span><br><span class="line">    &#123;</span><br><span class="line">        SpringApplication.run(BigEventApplication.class,args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>成功启动</p>
</li>
</ol>
<h3 id="SpringBoot配置方式"><a href="#SpringBoot配置方式" class="headerlink" title="SpringBoot配置方式"></a>SpringBoot配置方式</h3><ul>
<li>项目中resources目录下的application.yml</li>
<li>Jar包所在目录下的application.yml</li>
<li>操作系统环境变量</li>
<li>命令行参数</li>
</ul>
<p>优先级：由高到低依次增加</p>
<h3 id="集成Redis"><a href="#集成Redis" class="headerlink" title="集成Redis"></a>集成Redis</h3><ol>
<li><p>引入依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--  redis依赖  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>配置链接信息</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">data:</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="string">localhost</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">6379</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>调用API(StringRedisTemplate)完成字符串的存取操作</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testRedis</span><span class="params">()</span>&#123;</span><br><span class="line">    ValueOperations&lt;String, String&gt; stringStringValueOperations = stringRedisTemplate.opsForValue();</span><br><span class="line">    stringStringValueOperations.set(<span class="string">&quot;mykey&quot;</span>,<span class="string">&quot;value1&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">mykey</span> <span class="operator">=</span> stringStringValueOperations.get(<span class="string">&quot;mykey&quot;</span>);</span><br><span class="line">    System.out.println(mykey);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="参数校验框架Spring-Validation"><a href="#参数校验框架Spring-Validation" class="headerlink" title="参数校验框架Spring Validation"></a>参数校验框架Spring Validation</h3><p>Spring提供的一个参数校验框架使用预定义的注解完成参数校验</p>
<ol>
<li><p>引入Spring Validation起步依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Spring Validation依赖   --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-validation<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>参数校验</p>
<ul>
<li><p>简单数据类型</p>
<p>在参数前面添加@Pattern注解</p>
<p>还有@URL、@Email等注解</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// regexp为需要匹配的规则</span></span><br><span class="line"><span class="keyword">public</span> ResponseResult&lt;String&gt; <span class="title function_">login</span><span class="params">(<span class="meta">@Pattern(regexp = SystemConstant.LOGIN_REGEXP)</span> String username, <span class="meta">@Pattern(regexp = SystemConstant.LOGIN_REGEXP)</span> String password)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userService.login(username,password);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>对象数据类型</p>
   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@NotNull</span></span><br><span class="line"><span class="keyword">private</span> Integer id;<span class="comment">//主键ID</span></span><br><span class="line"><span class="keyword">private</span> String username;<span class="comment">//用户名</span></span><br><span class="line"><span class="meta">@JSONField(serialize = false)</span></span><br><span class="line"><span class="keyword">private</span> String password;<span class="comment">//密码</span></span><br><span class="line"><span class="meta">@NotNull</span></span><br><span class="line"><span class="meta">@Pattern(regexp = SystemConstant.NICK_NAME_REGEXP)</span></span><br><span class="line"><span class="keyword">private</span> String nickname;<span class="comment">//昵称</span></span><br><span class="line"><span class="meta">@Email</span></span><br><span class="line"><span class="keyword">private</span> String email;<span class="comment">//邮箱</span></span><br></pre></td></tr></table></figure>

<p>在参数前面添加@Validated注解</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PutMapping(&quot;/update&quot;)</span></span><br><span class="line"><span class="keyword">public</span> ResponseResult <span class="title function_">updateUserInfo</span><span class="params">(<span class="meta">@RequestBody</span></span></span><br><span class="line"><span class="params">                                     <span class="meta">@Validated</span> User user)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> userService.updateUserInfo(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>常用的注解：</p>
<ul>
<li>@Null 被注释的元素必须为null</li>
<li>@NotNull 被注释的元素不能为null，可以为空字符串</li>
<li>@AssertTrue 被注释的元素必须为true</li>
<li>@AssertFalse 被注释的元素必须为false</li>
<li>@Min(value) 被注释的元素必须是一个数字，其值必须大于等于指定的最小值</li>
<li>@Max(value) 被注释的元素必须是一个数字，其值必须小于等于指定的最大值</li>
<li>@DecimalMin(value) 被注释的元素必须是一个数字，其值必须大于等于指定的最小值</li>
<li>@DecimalMax(value) 被注释的元素必须是一个数字，其值必须小于等于指定的最大值</li>
<li>@Size(max,min) 被注释的元素的大小必须在指定的范围内。</li>
<li>@Digits(integer,fraction) 被注释的元素必须是一个数字，其值必须在可接受的范围内</li>
<li>@Past 被注释的元素必须是一个过去的日期</li>
<li>@Future 被注释的元素必须是一个将来的日期</li>
<li>@Pattern(value) 被注释的元素必须符合指定的正则表达式。</li>
<li>@Email 被注释的元素必须是电子邮件地址</li>
<li>@Length(1,10) 被注释的字符串的大小必须在指定的范围内</li>
<li>@Range 被注释的元素必须在合适的范围内</li>
<li>@NotEmpty：用在集合类上，不能为null，并且长度必须大于0</li>
<li>@NotBlank：只能作用在String上，不能为null，而且调用trim()后，长度必须大于0</li>
</ul>
</li>
</ul>
</li>
<li><p>在Controller类上添加@Validated注解</p>
</li>
<li><div class="note green anzhiyufont anzhiyu-icon-ic_train flat"><p>还未学习分组校验</p>
</div>
</li>
<li><p>自定义校验</p>
<div class="note primary no-icon simple"><p>业务需求总是比框架提供的这些简单校验要复杂的多，我们可以自定义校验来满足我们的需求。</p>
</div>

<ol>
<li><p><strong>自定义约束注解</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.FIELD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="comment">// 提供校验规则的类</span></span><br><span class="line"><span class="meta">@Constraint(validatedBy = StateValidation.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> State &#123;</span><br><span class="line">    <span class="comment">// 提供校验失败后的提示信息</span></span><br><span class="line">    String <span class="title function_">message</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;文章状态只能是：已发布或者草稿！&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 指定分组</span></span><br><span class="line">    Class&lt;?&gt;[] groups() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 负载获取到State 注解的附加信息,一般用不着</span></span><br><span class="line">    Class&lt;? <span class="keyword">extends</span> <span class="title class_">Payload</span>&gt;[] payload() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>实现<code>ConstraintValidator</code>接口编写约束校验器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 泛型的第一参数为：为哪个注解提供校验规则</span></span><br><span class="line"><span class="comment">//      第二参数为：要校验的数据类型</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StateValidation</span> <span class="keyword">implements</span> <span class="title class_">ConstraintValidator</span>&lt;State,String&gt; &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(String value, ConstraintValidatorContext constraintValidatorContext)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (value == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (value.equals(<span class="string">&quot;已发布&quot;</span>) || value.equals(<span class="string">&quot;草稿&quot;</span>) )&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>一般配合下面的统一异常处理</p>
</li>
</ol>
<h3 id="统一响应结果"><a href="#统一响应结果" class="headerlink" title="统一响应结果"></a>统一响应结果</h3><ul>
<li><p>使用响应枚举类来给前端提供信息</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">AppHttpCodeEnum</span> &#123;</span><br><span class="line">    <span class="comment">// 成功</span></span><br><span class="line">    SUCCESS(<span class="number">200</span>, <span class="string">&quot;操作成功&quot;</span>),</span><br><span class="line">    <span class="comment">// 登录</span></span><br><span class="line">    NEED_LOGIN(<span class="number">401</span>, <span class="string">&quot;需要登录后操作&quot;</span>),</span><br><span class="line">    NO_OPERATOR_AUTH(<span class="number">403</span>, <span class="string">&quot;无权限操作&quot;</span>),</span><br><span class="line">    SYSTEM_ERROR(<span class="number">500</span>, <span class="string">&quot;出现错误&quot;</span>),</span><br><span class="line">    USERNAME_EXIST(<span class="number">501</span>, <span class="string">&quot;用户名已存在&quot;</span>),</span><br><span class="line">    PHONENUMBER_EXIST(<span class="number">502</span>, <span class="string">&quot;手机号已存在&quot;</span>), </span><br><span class="line">    EMAIL_EXIST(<span class="number">503</span>, <span class="string">&quot;邮箱已存在&quot;</span>),</span><br><span class="line">    REQUIRE_USERNAME(<span class="number">504</span>, <span class="string">&quot;必需填写用户名&quot;</span>),</span><br><span class="line">    CONTENT_NOT_NULL(<span class="number">506</span>, <span class="string">&quot;评论内容不能为空&quot;</span>),</span><br><span class="line">    FILE_TYPE_ERROR(<span class="number">507</span>, <span class="string">&quot;文件类型错误&quot;</span>),</span><br><span class="line">    USERNAME_NOT_NULL(<span class="number">508</span>, <span class="string">&quot;用户名不能为空&quot;</span>),</span><br><span class="line">    NICKNAME_NOT_NULL(<span class="number">509</span>, <span class="string">&quot;昵称不能为空&quot;</span>),</span><br><span class="line">    PASSWORD_NOT_NULL(<span class="number">510</span>, <span class="string">&quot;密码不能为空&quot;</span>),</span><br><span class="line">    EMAIL_NOT_NULL(<span class="number">511</span>, <span class="string">&quot;邮箱不能为空&quot;</span>),</span><br><span class="line">    NICKNAME_EXIST(<span class="number">512</span>, <span class="string">&quot;昵称已存在&quot;</span>),</span><br><span class="line">    LOGIN_ERROR(<span class="number">505</span>, <span class="string">&quot;用户名或密码错误&quot;</span>);</span><br><span class="line">    <span class="type">int</span> code;</span><br><span class="line">    String msg;</span><br><span class="line"></span><br><span class="line">    AppHttpCodeEnum(<span class="type">int</span> code, String errorMessage) &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">        <span class="built_in">this</span>.msg = errorMessage;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMsg</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> msg;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>正常结果处理</p>
<details class="folding-tag" green><summary> ResponseResult.java </summary>
              <div class='content'>
              <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//统一响应结果</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ResponseResult</span>&lt;T&gt; <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer code;</span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line">    <span class="keyword">private</span> T data;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 无参构造器 默认成功</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ResponseResult</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = AppHttpCodeEnum.SUCCESS.getCode();</span><br><span class="line">        <span class="built_in">this</span>.msg = AppHttpCodeEnum.SUCCESS.getMsg();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 有参</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ResponseResult</span><span class="params">(Integer code, T data)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">        <span class="built_in">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ResponseResult</span><span class="params">(Integer code, String msg, T data)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">        <span class="built_in">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ResponseResult</span><span class="params">(Integer code, String msg)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 快速返回错误结果</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ResponseResult <span class="title function_">errorResult</span><span class="params">(<span class="type">int</span> code, String msg)</span> &#123;</span><br><span class="line">        <span class="type">ResponseResult</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ResponseResult</span>();</span><br><span class="line">        <span class="keyword">return</span> result.error(code, msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 快速返回成功结果</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ResponseResult <span class="title function_">okResult</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">ResponseResult</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ResponseResult</span>();</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ResponseResult <span class="title function_">okResult</span><span class="params">(<span class="type">int</span> code, String msg)</span> &#123;</span><br><span class="line">        <span class="type">ResponseResult</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ResponseResult</span>();</span><br><span class="line">        <span class="keyword">return</span> result.ok(code, <span class="literal">null</span>, msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ResponseResult <span class="title function_">okResult</span><span class="params">(Object data)</span> &#123;</span><br><span class="line">        <span class="type">ResponseResult</span> <span class="variable">result</span> <span class="operator">=</span> setAppHttpCodeEnum(AppHttpCodeEnum.SUCCESS, AppHttpCodeEnum.SUCCESS.getMsg());</span><br><span class="line">        <span class="keyword">if</span> (data != <span class="literal">null</span>) &#123;</span><br><span class="line">            result.setData(data);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ResponseResult <span class="title function_">errorResult</span><span class="params">(AppHttpCodeEnum enums)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> setAppHttpCodeEnum(enums, enums.getMsg());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ResponseResult <span class="title function_">errorResult</span><span class="params">(AppHttpCodeEnum enums, String msg)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> setAppHttpCodeEnum(enums, msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ResponseResult <span class="title function_">setAppHttpCodeEnum</span><span class="params">(AppHttpCodeEnum enums)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> okResult(enums.getCode(), enums.getMsg());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ResponseResult <span class="title function_">setAppHttpCodeEnum</span><span class="params">(AppHttpCodeEnum enums, String msg)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> okResult(enums.getCode(), msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> ResponseResult&lt;?&gt; error(Integer code, String msg) &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> ResponseResult&lt;?&gt; ok(Integer code, T data) &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">        <span class="built_in">this</span>.data = data;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> ResponseResult&lt;?&gt; ok(Integer code, T data, String msg) &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">        <span class="built_in">this</span>.data = data;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> ResponseResult&lt;?&gt; ok(T data) &#123;</span><br><span class="line">        <span class="built_in">this</span>.data = data;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCode</span><span class="params">(Integer code)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMsg</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMsg</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">getData</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setData</span><span class="params">(T data)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
              </div>
            </details>
</li>
<li><p>统一异常处理</p>
<div class="note primary no-icon simple"><p>为什么我们需要自定义异常？因为在某些情况下，我们需要返回我们自定义的响应格式非常不方便，如在处理用户鉴权或token校验的时候，因为像这些部分我们一般都是在单独的工具类中去处理，这时候如果报错其实就可以抛出我们自定义的异常，交由我们全局的异常处理去统一返回响应。</p>
</div>

<p>在exception包创建以下类</p>
<ol>
<li><p>自定义异常类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SystemException</span> <span class="keyword">extends</span> <span class="title class_">RuntimeException</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> code;</span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMsg</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> msg;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SystemException</span><span class="params">(AppHttpCodeEnum appHttpCodeEnum)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(appHttpCodeEnum.getMsg());</span><br><span class="line">        <span class="built_in">this</span>.code = appHttpCodeEnum.getCode();</span><br><span class="line">        <span class="built_in">this</span>.msg = appHttpCodeEnum.getMsg();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>全局异常处理类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestControllerAdvice</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GlobalExceptionHandler</span> &#123;</span><br><span class="line">    <span class="meta">@ExceptionHandler(SystemException.class)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseResult <span class="title function_">systemExceptionHandler</span><span class="params">(SystemException e)</span> &#123;</span><br><span class="line">        log.error(<span class="string">&quot;出现了异常! &#123;&#125;&quot;</span>, e.getMessage());</span><br><span class="line">        <span class="keyword">return</span> ResponseResult.errorResult(e.getCode(), e.getMsg());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 兜底</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(Exception.class)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseResult <span class="title function_">exceptionHandler</span><span class="params">(Exception e)</span> &#123;</span><br><span class="line">        log.error(<span class="string">&quot;出现了异常! &#123;&#125;&quot;</span>, e.getMessage());</span><br><span class="line">        <span class="keyword">return</span> ResponseResult.errorResult(AppHttpCodeEnum.SYSTEM_ERROR.getCode(), e.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
<h3 id="JWT登陆验证"><a href="#JWT登陆验证" class="headerlink" title="JWT登陆验证"></a>JWT登陆验证</h3><ul>
<li>全称: JSON Web Token (<a target="_blank" rel="noopener" href="https://jwt.io/">https://jwt.io/</a>)</li>
<li>定义了一种简洁的、自包含的格式，用于通信双方以json数据格式安全的传输信息。</li>
<li>组成：<ul>
<li>第一部分: Header(头)，记录令牌类型、签名算法等。例如: {“alg”:”HS256”,” type”:”JWT”}</li>
<li>第二部分: Payload(有效载荷) ，携带- 些自定义信息、 默认信息等。例如: {“id”:” 1”,”username’”:” Tom”}</li>
<li>第三部分: Signature(签告) ， 防止Token被篡改、确保安全性。将header、 payload, 并加入指定秘钥,通过指定签名算法计算而来。</li>
</ul>
</li>
</ul>
<p>在项目中使用：</p>
<ol>
<li><p>引入依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--  jwt依赖  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.auth0<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>java-jwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.4.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>jwt工具类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JwtUtil</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">KEY</span> <span class="operator">=</span> <span class="string">&quot;gztstudy&quot;</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//接收业务数据,生成token并返回</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">genToken</span><span class="params">(Map&lt;String, Object&gt; claims)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> JWT.create()</span><br><span class="line">                .withClaim(<span class="string">&quot;claims&quot;</span>, claims)</span><br><span class="line">                .withExpiresAt(<span class="keyword">new</span> <span class="title class_">Date</span>(System.currentTimeMillis() + <span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">12</span>))</span><br><span class="line">                .sign(Algorithm.HMAC256(KEY));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//接收token,验证token,并返回业务数据</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Map&lt;String, Object&gt; <span class="title function_">parseToken</span><span class="params">(String token)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> JWT.require(Algorithm.HMAC256(KEY))</span><br><span class="line">                .build()</span><br><span class="line">                .verify(token)</span><br><span class="line">                .getClaim(<span class="string">&quot;claims&quot;</span>)</span><br><span class="line">                .asMap();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建拦截器对需要验证的请求进行验证</p>
<p>创建interceptor包</p>
<p>编写LoginInterceptor.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 获取令牌</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> request.getHeader(<span class="string">&quot;Authorization&quot;</span>);</span><br><span class="line">        <span class="comment">// 验证token</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Map&lt;String, Object&gt; claims = JwtUtil.parseToken(token);</span><br><span class="line">            <span class="comment">// 放行</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            <span class="comment">// http响应码设为401 不放行</span></span><br><span class="line">            response.setStatus(<span class="number">401</span>);</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">SystemException</span>(AppHttpCodeEnum.NEED_LOGIN);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>注册拦截器使之生效</p>
<p>创建config包</p>
<p>编写WebConfig类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> LoginInterceptor loginInterceptor;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        <span class="comment">// 登录接口和注册接口不拦截</span></span><br><span class="line">        registry.addInterceptor(loginInterceptor).excludePathPatterns(<span class="string">&quot;/user/login&quot;</span>,<span class="string">&quot;/user/register&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="ThreadLocal存储用户信息"><a href="#ThreadLocal存储用户信息" class="headerlink" title="ThreadLocal存储用户信息"></a>ThreadLocal存储用户信息</h3><p>作用：方便拿用户信息且线程安全</p>
<ol>
<li><p>引入ThreadLocal工具类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadLocalUtil</span> &#123;</span><br><span class="line">    <span class="comment">//提供ThreadLocal对象</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">ThreadLocal</span> <span class="variable">THREAD_LOCAL</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//根据键获取值</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; T <span class="title function_">get</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (T) THREAD_LOCAL.get();</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">//存储键值对</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(Object value)</span>&#123;</span><br><span class="line">        THREAD_LOCAL.set(value);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//清除ThreadLocal 防止内存泄漏</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">()</span>&#123;</span><br><span class="line">        THREAD_LOCAL.remove();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>响应拦截器中存储用户信息</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解析用户信息</span></span><br><span class="line">Map&lt;String, Object&gt; claims = JwtUtil.parseToken(token);</span><br><span class="line"><span class="comment">// 放入ThreadLocal</span></span><br><span class="line">ThreadLocalUtil.set(claims);</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 从ThreadLocal拿到数据</span></span><br><span class="line">Map&lt;String,Object&gt; userInfo = ThreadLocalUtil.get();</span><br></pre></td></tr></table></figure>
</li>
<li><p>在响应拦截器中配置remove()方法，防止内存泄漏</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="comment">//清空ThreadLocal 中的数据</span></span><br><span class="line">    ThreadLocalUtil.remove();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="OSS对象存储（七牛云）"><a href="#OSS对象存储（七牛云）" class="headerlink" title="OSS对象存储（七牛云）"></a>OSS对象存储（七牛云）</h3><p>如果把图片视频等文件上传到自己的应用的Web服务器，在读取图片的时候会占用比较多的资源。影响应用服务器的性能。所以我们一般使用OSS(Object Storage Service对象存储服务)存储图片或视频。</p>
<p>使用七牛云：</p>
<ol>
<li><p>引入依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--  七牛云   --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.qiniu<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>qiniu-java-sdk<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>[7.13.0, 7.13.99]<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 解决七牛云Gson报错引入的依赖   --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.code.gson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>gson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.10.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>yml配置</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">oss:</span></span><br><span class="line">  <span class="attr">accessKey:</span> <span class="string">XXXX</span></span><br><span class="line">  <span class="attr">secretKey:</span> <span class="string">XXXX</span></span><br><span class="line">  <span class="attr">bucket:</span> <span class="string">item-oss</span></span><br><span class="line">  <span class="attr">domain:</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>文件路径的工具类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PathUtil</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">generateFilePath</span><span class="params">(String fileName)</span>&#123;</span><br><span class="line">        <span class="comment">//根据日期生成路径   2022/1/15/</span></span><br><span class="line">        <span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy/MM/dd/&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">datePath</span> <span class="operator">=</span> sdf.format(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">        <span class="comment">//uuid作为文件名</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">uuid</span> <span class="operator">=</span> UUID.randomUUID().toString().replaceAll(<span class="string">&quot;-&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="comment">//后缀和文件后缀一致</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> fileName.lastIndexOf(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">        <span class="comment">// test.jpg -&gt; .jpg</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">fileType</span> <span class="operator">=</span> fileName.substring(index);</span><br><span class="line">        <span class="comment">// 自己加了一层文件放在放在项目目录下</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>().append(<span class="string">&quot;big-event/&quot;</span>).append(datePath).append(uuid).append(fileType).toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>具体服务层代码实现</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UploadService</span> &#123;</span><br><span class="line">    ResponseResult <span class="title function_">ossUpload</span><span class="params">(MultipartFile file)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;oss&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UploadServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UploadService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// oss文件上传</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> ResponseResult <span class="title function_">ossUpload</span><span class="params">(MultipartFile file)</span> &#123;</span><br><span class="line">        <span class="comment">// 判断文件类型</span></span><br><span class="line">        <span class="comment">// 获取原始文件名</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">originalFilename</span> <span class="operator">=</span> file.getOriginalFilename();</span><br><span class="line">        <span class="comment">// 对原始文件名进行判断</span></span><br><span class="line">        <span class="comment">// 如果不是png文件报错</span></span><br><span class="line">        <span class="keyword">if</span>(!originalFilename.endsWith(<span class="string">&quot;.png&quot;</span>))&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">SystemException</span>(AppHttpCodeEnum.FILE_TYPE_ERROR);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//如果判断通过上传文件到OSS</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> PathUtil.generateFilePath(originalFilename);</span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> uploadOss(file,filePath);<span class="comment">//  2099/2/3/wqeqeqe.png</span></span><br><span class="line">        <span class="keyword">return</span> ResponseResult.okResult(url);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> String accessKey;</span><br><span class="line">    <span class="keyword">private</span> String secretKey;</span><br><span class="line">    <span class="keyword">private</span> String bucket;</span><br><span class="line">    <span class="keyword">private</span> String domain;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">uploadOss</span><span class="params">(MultipartFile imgFile, String filePath)</span>&#123;</span><br><span class="line">        <span class="comment">//构造一个带指定 Region 对象的配置类</span></span><br><span class="line">        <span class="type">Configuration</span> <span class="variable">cfg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Configuration</span>(Region.autoRegion());</span><br><span class="line">        <span class="comment">//...其他参数参考类注释</span></span><br><span class="line">        <span class="type">UploadManager</span> <span class="variable">uploadManager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UploadManager</span>(cfg);</span><br><span class="line">        <span class="comment">//默认不指定key的情况下，以文件内容的hash值作为文件名</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> filePath;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> imgFile.getInputStream();</span><br><span class="line">            <span class="type">Auth</span> <span class="variable">auth</span> <span class="operator">=</span> Auth.create(accessKey, secretKey);</span><br><span class="line">            <span class="type">String</span> <span class="variable">upToken</span> <span class="operator">=</span> auth.uploadToken(bucket);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="type">Response</span> <span class="variable">response</span> <span class="operator">=</span> uploadManager.put(inputStream,key,upToken,<span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">                <span class="comment">//解析上传成功的结果</span></span><br><span class="line">                <span class="type">DefaultPutRet</span> <span class="variable">putRet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>().fromJson(response.bodyString(), DefaultPutRet.class);</span><br><span class="line">                System.out.println(putRet.key);</span><br><span class="line">                System.out.println(putRet.hash);</span><br><span class="line">                <span class="keyword">return</span> domain + key;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (QiniuException ex) &#123;</span><br><span class="line">                <span class="type">Response</span> <span class="variable">r</span> <span class="operator">=</span> ex.response;</span><br><span class="line">                System.err.println(r.toString());</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    System.err.println(r.bodyString());</span><br><span class="line">                &#125; <span class="keyword">catch</span> (QiniuException ex2) &#123;</span><br><span class="line">                    <span class="comment">//ignore</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">            <span class="comment">//ignore</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;www&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="FastJson配置"><a href="#FastJson配置" class="headerlink" title="FastJson配置"></a>FastJson配置</h3><p>配置消息转换器，解决时间格式的问题</p>
<p>前端也能做，实际中看谁说话强硬</p>
<ol>
<li><p>引入依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- FastJson依赖   --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.79<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在WebConfig.java中配置</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用@Bean注入fastJsonHttpMessageConvert</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> HttpMessageConverter <span class="title function_">fastJsonHttpMessageConverters</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 1.需要定义一个Convert转换消息的对象</span></span><br><span class="line">    <span class="type">FastJsonHttpMessageConverter</span> <span class="variable">fastConverter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FastJsonHttpMessageConverter</span>();</span><br><span class="line">    <span class="type">FastJsonConfig</span> <span class="variable">fastJsonConfig</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FastJsonConfig</span>();</span><br><span class="line">    fastJsonConfig.setSerializerFeatures(SerializerFeature.PrettyFormat);</span><br><span class="line">    fastJsonConfig.setDateFormat(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">    SerializeConfig.globalInstance.put(Long.class, ToStringSerializer.instance);</span><br><span class="line">    fastJsonConfig.setSerializeConfig(SerializeConfig.globalInstance);</span><br><span class="line">    fastConverter.setFastJsonConfig(fastJsonConfig);</span><br><span class="line">    HttpMessageConverter&lt;?&gt; converter = fastConverter;</span><br><span class="line">    <span class="keyword">return</span> converter;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">configureMessageConverters</span><span class="params">(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters)</span> &#123;</span><br><span class="line">    converters.add(fastJsonHttpMessageConverters());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>其他FastJson的注解</p>
<ul>
<li><p>@JSONField(serialize &#x3D; false)</p>
<p>作用于对象属性上，让springmvc把当前对象转换成json字符串的时候，忽略此属性,最终的json字符串中就没有这个属性了</p>
<p>一般用户密码字段</p>
</li>
</ul>
</li>
</ol>
<details class="folding-tag" cyan open><summary> 相关接口文档 </summary>
              <div class='content'>
              <h3 id="用户相关接口"><a href="#用户相关接口" class="headerlink" title="用户相关接口"></a>用户相关接口</h3><h4 id="1-注册"><a href="#1-注册" class="headerlink" title="1. 注册"></a>1. 注册</h4><h5 id="1-1-基本信息"><a href="#1-1-基本信息" class="headerlink" title="1.1 基本信息"></a>1.1 基本信息</h5><blockquote><p>请求路径：&#x2F;user&#x2F;register</p><p>请求方式：POST</p><p>接口描述：该接口用于注册新用户</p></blockquote><h5 id="1-2-请求参数"><a href="#1-2-请求参数" class="headerlink" title="1.2 请求参数"></a>1.2 请求参数</h5><p>请求参数格式：x-www-form-urlencoded</p><p>请求参数说明：</p><table><thead><tr><th>参数名称</th><th>说明</th><th>类型</th><th>是否必须</th><th>备注</th></tr></thead><tbody><tr><td>username</td><td>用户名</td><td>string</td><td>是</td><td>5~16位非空字符</td></tr><tr><td>password</td><td>密码</td><td>string</td><td>是</td><td>5~16位非空字符</td></tr></tbody></table><p>请求数据样例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username=zhangsan&amp;password=123456</span><br></pre></td></tr></table></figure><h5 id="1-3-响应数据"><a href="#1-3-响应数据" class="headerlink" title="1.3 响应数据"></a>1.3 响应数据</h5><p>响应数据类型：application&#x2F;json</p><p>响应参数说明：</p><table><thead><tr><th>名称</th><th>类型</th><th>是否必须</th><th>默认值</th><th>备注</th><th>其他信息</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>必须</td><td></td><td>响应码, 200-成功,非200-失败</td><td></td></tr><tr><td>message</td><td>string</td><td>非必须</td><td></td><td>提示信息</td><td></td></tr><tr><td>data</td><td>object</td><td>非必须</td><td></td><td>返回的数据</td><td></td></tr></tbody></table><p>响应数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;操作成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="2-登录"><a href="#2-登录" class="headerlink" title="2.登录"></a>2.登录</h4><h5 id="2-1-基本信息"><a href="#2-1-基本信息" class="headerlink" title="2.1 基本信息"></a>2.1 基本信息</h5><blockquote><p>请求路径：&#x2F;user&#x2F;login</p><p>请求方式：POST</p><p>接口描述：该接口用于登录</p></blockquote><h5 id="2-2-请求参数"><a href="#2-2-请求参数" class="headerlink" title="2.2 请求参数"></a>2.2 请求参数</h5><p>请求参数格式：x-www-form-urlencoded</p><p>请求参数说明：</p><table><thead><tr><th>参数名称</th><th>说明</th><th>类型</th><th>是否必须</th><th>备注</th></tr></thead><tbody><tr><td>username</td><td>用户名</td><td>string</td><td>是</td><td>5~16位非空字符</td></tr><tr><td>password</td><td>密码</td><td>string</td><td>是</td><td>5~16位非空字符</td></tr></tbody></table><p>请求数据样例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username=zhangsan&amp;password=123456</span><br></pre></td></tr></table></figure><h5 id="2-3-响应数据"><a href="#2-3-响应数据" class="headerlink" title="2.3 响应数据"></a>2.3 响应数据</h5><p>响应数据类型：application&#x2F;json</p><p>响应参数说明：</p><table><thead><tr><th>名称</th><th>类型</th><th>是否必须</th><th>默认值</th><th>备注</th><th>其他信息</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>必须</td><td></td><td>响应码, 200-成功,非200-失败</td><td></td></tr><tr><td>message</td><td>string</td><td>非必须</td><td></td><td>提示信息</td><td></td></tr><tr><td>data</td><td>string</td><td>必须</td><td></td><td>返回的数据,jwt令牌</td><td></td></tr></tbody></table><p>响应数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;操作成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="string">&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGFpbXMiOnsiaWQiOjUsInVzZXJuYW1lIjoid2FuZ2JhIn0sImV4cCI6MTY5MzcxNTk3OH0.pE_RATcoF7Nm9KEp9eC3CzcBbKWAFOL0IsuMNjnZ95M&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h5 id="2-4-备注说明"><a href="#2-4-备注说明" class="headerlink" title="2.4 备注说明"></a>2.4 备注说明</h5><blockquote><p>用户登录成功后，系统会自动下发JWT令牌，然后在后续的每次请求中，浏览器都需要在请求头header中携带到服务端，请求头的名称为 Authorization，值为 登录时下发的JWT令牌。</p><p>如果检测到用户未登录，则http响应状态码为401</p></blockquote><h4 id="3-获取用户详细信息"><a href="#3-获取用户详细信息" class="headerlink" title="3.获取用户详细信息"></a>3.获取用户详细信息</h4><h5 id="3-1-基本信息"><a href="#3-1-基本信息" class="headerlink" title="3.1 基本信息"></a>3.1 基本信息</h5><blockquote><p>请求路径：&#x2F;user&#x2F;userInfo</p><p>请求方式：GET</p><p>接口描述：该接口用于获取当前已登录用户的详细信息</p></blockquote><h5 id="3-2-请求参数"><a href="#3-2-请求参数" class="headerlink" title="3.2 请求参数"></a>3.2 请求参数</h5><p>无</p><h5 id="3-3-响应数据"><a href="#3-3-响应数据" class="headerlink" title="3.3 响应数据"></a>3.3 响应数据</h5><p>响应数据类型：application&#x2F;json</p><p>响应参数说明：</p><table><thead><tr><th>名称</th><th>类型</th><th>是否必须</th><th>默认值</th><th>备注</th><th>其他信息</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>必须</td><td></td><td>响应码, 200-成功,非200-失败</td><td></td></tr><tr><td>message</td><td>string</td><td>非必须</td><td></td><td>提示信息</td><td></td></tr><tr><td>data</td><td>object</td><td>必须</td><td></td><td>返回的数据</td><td></td></tr><tr><td>|-id</td><td>number</td><td>非必须</td><td></td><td>主键ID</td><td></td></tr><tr><td>|-username</td><td>srting</td><td>非必须</td><td></td><td>用户名</td><td></td></tr><tr><td>|-nickname</td><td>string</td><td>非必须</td><td></td><td>昵称</td><td></td></tr><tr><td>|-email</td><td>string</td><td>非必须</td><td></td><td>邮箱</td><td></td></tr><tr><td>|-userPic</td><td>string</td><td>非必须</td><td></td><td>头像地址</td><td></td></tr><tr><td>|-createTime</td><td>string</td><td>非必须</td><td></td><td>创建时间</td><td></td></tr><tr><td>|-updateTime</td><td>string</td><td>非必须</td><td></td><td>更新时间</td><td></td></tr></tbody></table><p>响应数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;操作成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">5</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;wangba&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;nickname&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;userPic&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;createTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2023-09-02 22:21:31&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;updateTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2023-09-02 22:21:31&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="4-更新用户基本信息"><a href="#4-更新用户基本信息" class="headerlink" title="4.更新用户基本信息"></a>4.更新用户基本信息</h4><h5 id="4-1-基本信息"><a href="#4-1-基本信息" class="headerlink" title="4.1 基本信息"></a>4.1 基本信息</h5><blockquote><p>请求路径：&#x2F;user&#x2F;update</p><p>请求方式：PUT</p><p>接口描述：该接口用于更新已登录用户的基本信息(除头像和密码)</p></blockquote><h5 id="4-2-请求参数"><a href="#4-2-请求参数" class="headerlink" title="4.2 请求参数"></a>4.2 请求参数</h5><p>请求参数格式：application&#x2F;json</p><p>请求参数说明：</p><table><thead><tr><th>参数名称</th><th>说明</th><th>类型</th><th>是否必须</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>主键ID</td><td>number</td><td>是</td><td></td></tr><tr><td>username</td><td>用户名</td><td>string</td><td>否</td><td>5~16位非空字符</td></tr><tr><td>nickname</td><td>昵称</td><td>string</td><td>是</td><td>1~10位非空字符</td></tr><tr><td>email</td><td>邮箱</td><td>string</td><td>是</td><td>满足邮箱的格式</td></tr></tbody></table><p>请求数据样例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;id&quot;:5,</span><br><span class="line">    &quot;username&quot;:&quot;wangba&quot;,</span><br><span class="line">    &quot;nickname&quot;:&quot;wb&quot;,</span><br><span class="line">    &quot;email&quot;:&quot;wb@itcast.cn&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="4-3-响应数据"><a href="#4-3-响应数据" class="headerlink" title="4.3 响应数据"></a>4.3 响应数据</h5><p>响应数据类型：application&#x2F;json</p><p>响应参数说明：</p><table><thead><tr><th>名称</th><th>类型</th><th>是否必须</th><th>默认值</th><th>备注</th><th>其他信息</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>必须</td><td></td><td>响应码, 200-成功,非200-失败</td><td></td></tr><tr><td>message</td><td>string</td><td>非必须</td><td></td><td>提示信息</td><td></td></tr><tr><td>data</td><td>object</td><td>非必须</td><td></td><td>返回的数据</td><td></td></tr></tbody></table><p>响应数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;操作成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="5-更新用户头像"><a href="#5-更新用户头像" class="headerlink" title="5.更新用户头像"></a>5.更新用户头像</h4><h5 id="5-1-基本信息"><a href="#5-1-基本信息" class="headerlink" title="5.1 基本信息"></a>5.1 基本信息</h5><blockquote><p>请求路径：&#x2F;user&#x2F;updateAvatar</p><p>请求方式：PATCH</p><p>接口描述：该接口用于更新已登录用户的头像</p></blockquote><h5 id="5-2-请求参数"><a href="#5-2-请求参数" class="headerlink" title="5.2 请求参数"></a>5.2 请求参数</h5><p>请求参数格式：queryString</p><p>请求参数说明：</p><table><thead><tr><th>参数名称</th><th>说明</th><th>类型</th><th>是否必须</th><th>备注</th></tr></thead><tbody><tr><td>avatarUrl</td><td>头像地址</td><td>string</td><td>是</td><td>url地址</td></tr></tbody></table><p>请求数据样例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">avatarUrl=</span><br><span class="line">https://big-event-gwd.oss-cn-beijing.aliyuncs.com/9bf1cf5b-1420-4c1b-91ad-e0f4631cbed4.png</span><br></pre></td></tr></table></figure><h5 id="5-3-响应数据"><a href="#5-3-响应数据" class="headerlink" title="5.3 响应数据"></a>5.3 响应数据</h5><p>响应数据类型：application&#x2F;json</p><p>响应参数说明：</p><table><thead><tr><th>名称</th><th>类型</th><th>是否必须</th><th>默认值</th><th>备注</th><th>其他信息</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>必须</td><td></td><td>响应码, 200-成功,非200-失败</td><td></td></tr><tr><td>message</td><td>string</td><td>非必须</td><td></td><td>提示信息</td><td></td></tr><tr><td>data</td><td>object</td><td>非必须</td><td></td><td>返回的数据</td><td></td></tr></tbody></table><p>响应数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;操作成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="6-更新用户密码"><a href="#6-更新用户密码" class="headerlink" title="6.更新用户密码"></a>6.更新用户密码</h4><h5 id="6-1-基本信息"><a href="#6-1-基本信息" class="headerlink" title="6.1 基本信息"></a>6.1 基本信息</h5><blockquote><p>请求路径：&#x2F;user&#x2F;updatePwd</p><p>请求方式：PATCH</p><p>接口描述：该接口用于更新已登录用户的密码</p></blockquote><h5 id="6-2-请求参数"><a href="#6-2-请求参数" class="headerlink" title="6.2 请求参数"></a>6.2 请求参数</h5><p>请求参数格式：application&#x2F;json</p><p>请求参数说明：</p><table><thead><tr><th>参数名称</th><th>说明</th><th>类型</th><th>是否必须</th><th>备注</th></tr></thead><tbody><tr><td>old_pwd</td><td>原密码</td><td>string</td><td>是</td><td></td></tr><tr><td>new_pwd</td><td>新密码</td><td>string</td><td>是</td><td></td></tr><tr><td>re_pwd</td><td>确认新密码</td><td>string</td><td>是</td><td></td></tr></tbody></table><p>请求数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;oldpwd&quot;</span><span class="punctuation">:</span><span class="string">&quot;123456&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;newpwd&quot;</span><span class="punctuation">:</span><span class="string">&quot;234567&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;repwd&quot;</span><span class="punctuation">:</span><span class="string">&quot;234567&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h5 id="6-3-响应数据"><a href="#6-3-响应数据" class="headerlink" title="6.3 响应数据"></a>6.3 响应数据</h5><p>响应数据类型：application&#x2F;json</p><p>响应参数说明：</p><table><thead><tr><th>名称</th><th>类型</th><th>是否必须</th><th>默认值</th><th>备注</th><th>其他信息</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>必须</td><td></td><td>响应码, 200-成功,非200-失败</td><td></td></tr><tr><td>message</td><td>string</td><td>非必须</td><td></td><td>提示信息</td><td></td></tr><tr><td>data</td><td>object</td><td>非必须</td><td></td><td>返回的数据</td><td></td></tr></tbody></table><p>响应数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;操作成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="文章分类相关接口"><a href="#文章分类相关接口" class="headerlink" title="文章分类相关接口"></a>文章分类相关接口</h3><h4 id="1-新增文章分类"><a href="#1-新增文章分类" class="headerlink" title="1 新增文章分类"></a>1 新增文章分类</h4><h5 id="1-1-基本信息-1"><a href="#1-1-基本信息-1" class="headerlink" title="1.1 基本信息"></a>1.1 基本信息</h5><blockquote><p>请求路径：&#x2F;category</p><p>请求方式：POST</p><p>接口描述：该接口用于新增文章分类</p></blockquote><h5 id="1-2-请求参数-1"><a href="#1-2-请求参数-1" class="headerlink" title="1.2 请求参数"></a>1.2 请求参数</h5><p>请求参数格式：application&#x2F;json</p><p>请求参数说明：</p><table><thead><tr><th>参数名称</th><th>说明</th><th>类型</th><th>是否必须</th><th>备注</th></tr></thead><tbody><tr><td>categoryName</td><td>分类名称</td><td>string</td><td>是</td><td></td></tr><tr><td>categoryAlias</td><td>分类别名</td><td>string</td><td>是</td><td></td></tr></tbody></table><p>请求数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;categoryName&quot;</span><span class="punctuation">:</span><span class="string">&quot;人文&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;categoryAlias&quot;</span><span class="punctuation">:</span><span class="string">&quot;rw&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h5 id="1-3-响应数据-1"><a href="#1-3-响应数据-1" class="headerlink" title="1.3 响应数据"></a>1.3 响应数据</h5><p>响应数据类型：application&#x2F;json</p><p>响应参数说明：</p><table><thead><tr><th>名称</th><th>类型</th><th>是否必须</th><th>默认值</th><th>备注</th><th>其他信息</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>必须</td><td></td><td>响应码, 200-成功,非200-失败</td><td></td></tr><tr><td>message</td><td>string</td><td>非必须</td><td></td><td>提示信息</td><td></td></tr><tr><td>data</td><td>object</td><td>非必须</td><td></td><td>返回的数据</td><td></td></tr></tbody></table><p>响应数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;操作成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="2-文章分类列表"><a href="#2-文章分类列表" class="headerlink" title="2. 文章分类列表"></a>2. 文章分类列表</h4><h5 id="2-1-基本信息-1"><a href="#2-1-基本信息-1" class="headerlink" title="2.1 基本信息"></a>2.1 基本信息</h5><blockquote><p>请求路径：&#x2F;category</p><p>请求方式：GET</p><p>接口描述：该接口用于获取当前已登录用户创建的所有文章分类</p></blockquote><h5 id="2-2-请求参数-1"><a href="#2-2-请求参数-1" class="headerlink" title="2.2 请求参数"></a>2.2 请求参数</h5><p>无</p><h5 id="2-3-响应数据-1"><a href="#2-3-响应数据-1" class="headerlink" title="2.3 响应数据"></a>2.3 响应数据</h5><p>响应数据类型：application&#x2F;json</p><p>响应参数说明：</p><table><thead><tr><th>名称</th><th>类型</th><th>是否必须</th><th>默认值</th><th>备注</th><th>其他信息</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>必须</td><td></td><td>响应码, 200-成功,非200-失败</td><td></td></tr><tr><td>message</td><td>string</td><td>非必须</td><td></td><td>提示信息</td><td></td></tr><tr><td>data</td><td>array</td><td>必须</td><td></td><td>返回的数据</td><td></td></tr><tr><td>|-id</td><td>number</td><td>非必须</td><td></td><td>主键ID</td><td></td></tr><tr><td>|-categoryName</td><td>string</td><td>非必须</td><td></td><td>分类名称</td><td></td></tr><tr><td>|-categoryAlias</td><td>string</td><td>非必须</td><td></td><td>分类别名</td><td></td></tr><tr><td>|-createTime</td><td>string</td><td>非必须</td><td></td><td>创建时间</td><td></td></tr><tr><td>|-updateTime</td><td>string</td><td>非必须</td><td></td><td>修改时间</td><td></td></tr></tbody></table><p>响应数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;操作成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;categoryName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;美食&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;categoryAlias&quot;</span><span class="punctuation">:</span> <span class="string">&quot;my&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;createTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2023-09-02 12:06:59&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;updateTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2023-09-02 12:06:59&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">4</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;categoryName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;娱乐&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;categoryAlias&quot;</span><span class="punctuation">:</span> <span class="string">&quot;yl&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;createTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2023-09-02 12:08:16&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;updateTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2023-09-02 12:08:16&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">5</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;categoryName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;军事&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;categoryAlias&quot;</span><span class="punctuation">:</span> <span class="string">&quot;js&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;createTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2023-09-02 12:08:33&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;updateTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2023-09-02 12:08:33&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="3-获取文章分类详情"><a href="#3-获取文章分类详情" class="headerlink" title="3.获取文章分类详情"></a>3.获取文章分类详情</h4><h5 id="3-1-基本信息-1"><a href="#3-1-基本信息-1" class="headerlink" title="3.1 基本信息"></a>3.1 基本信息</h5><blockquote><p>请求路径：&#x2F;category&#x2F;detail</p><p>请求方式：GET</p><p>接口描述：该接口用于根据ID获取文章分类详情</p></blockquote><h5 id="3-2-请求参数-1"><a href="#3-2-请求参数-1" class="headerlink" title="3.2 请求参数"></a>3.2 请求参数</h5><p>请求参数格式：queryString</p><p>请求参数说明：</p><table><thead><tr><th>参数名称</th><th>说明</th><th>类型</th><th>是否必须</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>主键ID</td><td>number</td><td>是</td><td></td></tr></tbody></table><p>请求数据样例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=6</span><br></pre></td></tr></table></figure><h5 id="3-3-响应数据-1"><a href="#3-3-响应数据-1" class="headerlink" title="3.3 响应数据"></a>3.3 响应数据</h5><p>响应数据类型：application&#x2F;json</p><p>响应参数说明：</p><table><thead><tr><th>名称</th><th>类型</th><th>是否必须</th><th>默认值</th><th>备注</th><th>其他信息</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>必须</td><td></td><td>响应码, 200-成功,非200-失败</td><td></td></tr><tr><td>message</td><td>string</td><td>非必须</td><td></td><td>提示信息</td><td></td></tr><tr><td>data</td><td>object</td><td>必须</td><td></td><td>返回的数据</td><td></td></tr><tr><td>|-id</td><td>number</td><td>非必须</td><td></td><td>主键ID</td><td></td></tr><tr><td>|-categoryName</td><td>string</td><td>非必须</td><td></td><td>分类名称</td><td></td></tr><tr><td>|-categoryAlias</td><td>string</td><td>非必须</td><td></td><td>分类别名</td><td></td></tr><tr><td>|-createTime</td><td>string</td><td>非必须</td><td></td><td>创建时间</td><td></td></tr><tr><td>|-updateTime</td><td>string</td><td>非必须</td><td></td><td>修改时间</td><td></td></tr></tbody></table><p>响应数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;操作成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">6</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;categoryName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;风土人情&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;categoryAlias&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ftrq&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;createTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2023-09-03 11:07:13&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;updateTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2023-09-03 11:13:39&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="4-更新文章分类"><a href="#4-更新文章分类" class="headerlink" title="4. 更新文章分类"></a>4. 更新文章分类</h4><h5 id="4-1-基本信息-1"><a href="#4-1-基本信息-1" class="headerlink" title="4.1 基本信息"></a>4.1 基本信息</h5><blockquote><p>请求路径：&#x2F;category</p><p>请求方式：PUT</p><p>接口描述：该接口用于更新文章分类</p></blockquote><h5 id="4-2-请求参数-1"><a href="#4-2-请求参数-1" class="headerlink" title="4.2 请求参数"></a>4.2 请求参数</h5><p>请求参数格式：application&#x2F;json</p><p>请求参数说明：</p><table><thead><tr><th>参数名称</th><th>说明</th><th>类型</th><th>是否必须</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>主键ID</td><td>number</td><td>是</td><td></td></tr><tr><td>categoryName</td><td>分类名称</td><td>string</td><td>是</td><td></td></tr><tr><td>categoryAlias</td><td>分类别名</td><td>string</td><td>是</td><td></td></tr></tbody></table><p>请求数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="number">6</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;categoryName&quot;</span><span class="punctuation">:</span><span class="string">&quot;风土人情&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;categoryAlias&quot;</span><span class="punctuation">:</span><span class="string">&quot;ftrq&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h5 id="4-3-响应数据-1"><a href="#4-3-响应数据-1" class="headerlink" title="4.3 响应数据"></a>4.3 响应数据</h5><p>响应数据类型：application&#x2F;json</p><p>响应参数说明：</p><table><thead><tr><th>名称</th><th>类型</th><th>是否必须</th><th>默认值</th><th>备注</th><th>其他信息</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>必须</td><td></td><td>响应码, 200-成功,非200-失败</td><td></td></tr><tr><td>message</td><td>string</td><td>非必须</td><td></td><td>提示信息</td><td></td></tr><tr><td>data</td><td>object</td><td>非必须</td><td></td><td>返回的数据</td><td></td></tr></tbody></table><p>响应数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;操作成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="5-删除文章分类"><a href="#5-删除文章分类" class="headerlink" title="5.删除文章分类"></a>5.删除文章分类</h4><h5 id="5-1-基本信息-1"><a href="#5-1-基本信息-1" class="headerlink" title="5.1 基本信息"></a>5.1 基本信息</h5><blockquote><p>请求路径：&#x2F;category</p><p>请求方式：DELETE</p><p>接口描述：该接口用于根据ID删除文章分类</p></blockquote><h5 id="5-2-请求参数-1"><a href="#5-2-请求参数-1" class="headerlink" title="5.2 请求参数"></a>5.2 请求参数</h5><p>请求参数格式：queryString</p><p>请求参数说明：</p><table><thead><tr><th>参数名称</th><th>说明</th><th>类型</th><th>是否必须</th><th>备注</th></tr></thead><tbody><tr><td>id</td><td>主键ID</td><td>number</td><td>是</td><td></td></tr></tbody></table><p>请求数据样例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=6</span><br></pre></td></tr></table></figure><h5 id="5-3-响应数据-1"><a href="#5-3-响应数据-1" class="headerlink" title="5.3 响应数据"></a>5.3 响应数据</h5><p>响应数据类型：application&#x2F;json</p><p>响应参数说明：</p><table><thead><tr><th>名称</th><th>类型</th><th>是否必须</th><th>默认值</th><th>备注</th><th>其他信息</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>必须</td><td></td><td>响应码, 200-成功,非200-失败</td><td></td></tr><tr><td>message</td><td>string</td><td>非必须</td><td></td><td>提示信息</td><td></td></tr><tr><td>data</td><td>object</td><td>非必须</td><td></td><td>返回的数据</td><td></td></tr></tbody></table><p>响应数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;操作成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="文章管理相关接口"><a href="#文章管理相关接口" class="headerlink" title="文章管理相关接口"></a>文章管理相关接口</h3><h4 id="1-新增文章"><a href="#1-新增文章" class="headerlink" title="1. 新增文章"></a>1. 新增文章</h4><h5 id="1-1-基本信息-2"><a href="#1-1-基本信息-2" class="headerlink" title="1.1 基本信息"></a>1.1 基本信息</h5><blockquote><p>请求路径：&#x2F;article</p><p>请求方式：POST</p><p>接口描述：该接口用于新增文章(发布文章)</p></blockquote><h5 id="1-2-请求参数-2"><a href="#1-2-请求参数-2" class="headerlink" title="1.2 请求参数"></a>1.2 请求参数</h5><p>请求参数格式：application&#x2F;json</p><p>请求参数说明：</p><table><thead><tr><th>参数名称</th><th>说明</th><th>类型</th><th>是否必须</th><th>备注</th><th></th></tr></thead><tbody><tr><td>title</td><td>文章标题</td><td>string</td><td>是</td><td>1~10个非空字符</td><td></td></tr><tr><td>content</td><td>文章正文</td><td>string</td><td>是</td><td></td><td></td></tr><tr><td>coverImg</td><td>封面图像地址</td><td>string</td><td>是</td><td>必须是url地址</td><td></td></tr><tr><td>state</td><td>发布状态</td><td>string</td><td>是</td><td>已发布 | 草稿</td><td></td></tr><tr><td>categoryId</td><td>文章分类ID</td><td>number</td><td>是</td><td></td><td></td></tr></tbody></table><p>请求数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;陕西旅游攻略&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;兵马俑,华清池,法门寺,华山...爱去哪去哪...&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;coverImg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://big-event-gwd.oss-cn-beijing.aliyuncs.com/9bf1cf5b-1420-4c1b-91ad-e0f4631cbed4.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;state&quot;</span><span class="punctuation">:</span> <span class="string">&quot;草稿&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;categoryId&quot;</span><span class="punctuation">:</span> <span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h5 id="1-3-响应数据-2"><a href="#1-3-响应数据-2" class="headerlink" title="1.3 响应数据"></a>1.3 响应数据</h5><p>响应数据类型：application&#x2F;json</p><p>响应参数说明：</p><table><thead><tr><th>名称</th><th>类型</th><th>是否必须</th><th>默认值</th><th>备注</th><th>其他信息</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>必须</td><td></td><td>响应码, 200-成功,非200-失败</td><td></td></tr><tr><td>message</td><td>string</td><td>非必须</td><td></td><td>提示信息</td><td></td></tr><tr><td>data</td><td>object</td><td>非必须</td><td></td><td>返回的数据</td><td></td></tr></tbody></table><p>响应数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;操作成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="2-文章列表（条件分页）"><a href="#2-文章列表（条件分页）" class="headerlink" title="2. 文章列表（条件分页）"></a>2. 文章列表（条件分页）</h4><h5 id="2-1-基本信息-2"><a href="#2-1-基本信息-2" class="headerlink" title="2.1 基本信息"></a>2.1 基本信息</h5><blockquote><p>请求路径：&#x2F;article</p><p>请求方式：GET</p><p>接口描述：该接口用于根据条件查询文章,带分页</p></blockquote><h5 id="2-2-请求参数-2"><a href="#2-2-请求参数-2" class="headerlink" title="2.2 请求参数"></a>2.2 请求参数</h5><p>请求参数格式：queryString</p><p>请求参数说明：</p><table><thead><tr><th>参数名称</th><th>说明</th><th>类型</th><th>是否必须</th><th>备注</th><th></th></tr></thead><tbody><tr><td>pageNum</td><td>当前页码</td><td>number</td><td>是</td><td></td><td></td></tr><tr><td>pageSize</td><td>每页条数</td><td>number</td><td>是</td><td></td><td></td></tr><tr><td>categoryId</td><td>文章分类ID</td><td>number</td><td>否</td><td></td><td></td></tr><tr><td>state</td><td>发布状态 m,op-</td><td>string</td><td>否</td><td>已发布 | 草稿</td><td></td></tr></tbody></table><p>请求数据样例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pageNum=1&amp;pageSize=3&amp;categoryId=2&amp;state=草稿</span><br></pre></td></tr></table></figure><h5 id="2-3-响应数据-2"><a href="#2-3-响应数据-2" class="headerlink" title="2.3 响应数据"></a>2.3 响应数据</h5><p>响应数据类型：application&#x2F;json</p><p>响应参数说明：</p><table><thead><tr><th>名称</th><th>类型</th><th>是否必须</th><th>默认值</th><th>备注</th><th>其他信息</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>必须</td><td></td><td>响应码, 200-成功,非200-失败</td><td></td></tr><tr><td>message</td><td>string</td><td>非必须</td><td></td><td>提示信息</td><td></td></tr><tr><td>data</td><td>object</td><td>必须</td><td></td><td>返回的数据</td><td></td></tr><tr><td>|-total</td><td>number</td><td>必须</td><td></td><td>总记录数</td><td></td></tr><tr><td>|-items</td><td>array</td><td>必须</td><td></td><td>数据列表</td><td></td></tr><tr><td>|-id</td><td>number</td><td>非必须</td><td></td><td>主键ID</td><td></td></tr><tr><td>|-title</td><td>string</td><td>非必须</td><td></td><td>文章标题</td><td></td></tr><tr><td>|-content</td><td>string</td><td>非必须</td><td></td><td>文章正文</td><td></td></tr><tr><td>|-coverImg</td><td>string</td><td>非必须</td><td></td><td>文章封面图像地址</td><td></td></tr><tr><td>|-state</td><td>string</td><td>非必须</td><td></td><td>发布状态</td><td>已发布|草稿</td></tr><tr><td>|-categoryId</td><td>number</td><td>非必须</td><td></td><td>文章分类ID</td><td></td></tr><tr><td>|-createTime</td><td>string</td><td>非必须</td><td></td><td>创建时间</td><td></td></tr><tr><td>|-updateTime</td><td>string</td><td>非必须</td><td></td><td>更新时间</td><td></td></tr></tbody></table><p>响应数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;操作成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;total&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;items&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">5</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;陕西旅游攻略&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;兵马俑,华清池,法门寺,华山...爱去哪去哪...&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;coverImg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://big-event-gwd.oss-cn-beijing.aliyuncs.com/9bf1cf5b-1420-4c1b-91ad-e0f4631cbed4.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;state&quot;</span><span class="punctuation">:</span> <span class="string">&quot;草稿&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;categoryId&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;createTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2023-09-03 11:55:30&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;updateTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2023-09-03 11:55:30&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="3-文章详情"><a href="#3-文章详情" class="headerlink" title="3. 文章详情"></a>3. 文章详情</h4><h5 id="3-1-基本信息-2"><a href="#3-1-基本信息-2" class="headerlink" title="3.1 基本信息"></a>3.1 基本信息</h5><blockquote><p>请求路径：&#x2F;article&#x2F;detail</p><p>请求方式：GET</p><p>接口描述：该接口用于根据ID获取文章详细信息</p></blockquote><h5 id="3-2-请求参数-2"><a href="#3-2-请求参数-2" class="headerlink" title="3.2 请求参数"></a>3.2 请求参数</h5><p>请求参数格式：queryString</p><p>请求参数说明：</p><table><thead><tr><th>参数名称</th><th>说明</th><th>类型</th><th>是否必须</th><th>备注</th><th></th></tr></thead><tbody><tr><td>id</td><td>主键ID</td><td>number</td><td>是</td><td></td><td></td></tr></tbody></table><p>请求数据样例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=4</span><br></pre></td></tr></table></figure><h5 id="3-3-响应数据-2"><a href="#3-3-响应数据-2" class="headerlink" title="3.3 响应数据"></a>3.3 响应数据</h5><p>响应数据类型：application&#x2F;json</p><p>响应参数说明：</p><table><thead><tr><th>名称</th><th>类型</th><th>是否必须</th><th>默认值</th><th>备注</th><th>其他信息</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>必须</td><td></td><td>响应码, 200-成功,非200-失败</td><td></td></tr><tr><td>message</td><td>string</td><td>非必须</td><td></td><td>提示信息</td><td></td></tr><tr><td>data</td><td>object</td><td>必须</td><td></td><td>返回的数据</td><td></td></tr><tr><td>|-id</td><td>number</td><td>非必须</td><td></td><td>主键ID</td><td></td></tr><tr><td>|-title</td><td>string</td><td>非必须</td><td></td><td>文章标题</td><td></td></tr><tr><td>|-content</td><td>string</td><td>非必须</td><td></td><td>文章正文</td><td></td></tr><tr><td>|-coverImg</td><td>string</td><td>非必须</td><td></td><td>文章封面图像地址</td><td></td></tr><tr><td>|-state</td><td>string</td><td>非必须</td><td></td><td>发布状态</td><td>已发布|草稿</td></tr><tr><td>|-categoryId</td><td>number</td><td>非必须</td><td></td><td>文章分类ID</td><td></td></tr><tr><td>|-createTime</td><td>string</td><td>非必须</td><td></td><td>创建时间</td><td></td></tr><tr><td>|-updateTime</td><td>string</td><td>非必须</td><td></td><td>更新时间</td><td></td></tr></tbody></table><p>响应数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;操作成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">4</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;北京旅游攻略&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;天安门,颐和园,鸟巢,长城...爱去哪去哪...&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;coverImg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://big-event-gwd.oss-cn-beijing.aliyuncs.com/9bf1cf5b-1420-4c1b-91ad-e0f4631cbed4.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;state&quot;</span><span class="punctuation">:</span> <span class="string">&quot;已发布&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;categoryId&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;createTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2023-09-03 11:35:04&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;updateTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2023-09-03 11:40:31&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="4-更新文章"><a href="#4-更新文章" class="headerlink" title="4. 更新文章"></a>4. 更新文章</h4><h5 id="4-1-基本信息-2"><a href="#4-1-基本信息-2" class="headerlink" title="4.1 基本信息"></a>4.1 基本信息</h5><blockquote><p>请求路径：&#x2F;article</p><p>请求方式：PUT</p><p>接口描述：该接口用于更新文章信息</p></blockquote><h5 id="4-2-请求参数-2"><a href="#4-2-请求参数-2" class="headerlink" title="4.2 请求参数"></a>4.2 请求参数</h5><p>请求参数格式：application&#x2F;json</p><p>请求参数说明：</p><table><thead><tr><th>参数名称</th><th>说明</th><th>类型</th><th>是否必须</th><th>备注</th><th></th></tr></thead><tbody><tr><td>id</td><td>主键ID</td><td>number</td><td>是</td><td></td><td></td></tr><tr><td>title</td><td>文章标题</td><td>string</td><td>是</td><td></td><td></td></tr><tr><td>content</td><td>文章正文</td><td>string</td><td>是</td><td></td><td></td></tr><tr><td>coverImg</td><td>封面图像地址</td><td>string</td><td>是</td><td></td><td></td></tr><tr><td>state</td><td>发布状态</td><td>string</td><td>是</td><td>已发布 | 草稿</td><td></td></tr><tr><td>categoryId</td><td>文章分类ID</td><td>number</td><td>是</td><td></td><td></td></tr></tbody></table><p>请求数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="number">4</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;北京旅游攻略&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;天安门,颐和园,鸟巢,长城...爱去哪去哪...&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;coverImg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://big-event-gwd.oss-cn-beijing.aliyuncs.com/9bf1cf5b-1420-4c1b-91ad-e0f4631cbed4.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;state&quot;</span><span class="punctuation">:</span> <span class="string">&quot;已发布&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;categoryId&quot;</span><span class="punctuation">:</span> <span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h5 id="4-3-响应数据-2"><a href="#4-3-响应数据-2" class="headerlink" title="4.3 响应数据"></a>4.3 响应数据</h5><p>响应数据类型：application&#x2F;json</p><p>响应参数说明：</p><table><thead><tr><th>名称</th><th>类型</th><th>是否必须</th><th>默认值</th><th>备注</th><th>其他信息</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>必须</td><td></td><td>响应码, 200-成功,非200-失败</td><td></td></tr><tr><td>message</td><td>string</td><td>非必须</td><td></td><td>提示信息</td><td></td></tr><tr><td>data</td><td>object</td><td>非必须</td><td></td><td>返回的数据</td><td></td></tr></tbody></table><p>响应数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;操作成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="5-删除文章"><a href="#5-删除文章" class="headerlink" title="5. 删除文章"></a>5. 删除文章</h4><h5 id="5-1-基本信息-2"><a href="#5-1-基本信息-2" class="headerlink" title="5.1 基本信息"></a>5.1 基本信息</h5><blockquote><p>请求路径：&#x2F;article</p><p>请求方式：DELETE</p><p>接口描述：该接口用于根据ID删除文章</p></blockquote><h5 id="5-2-请求参数-2"><a href="#5-2-请求参数-2" class="headerlink" title="5.2 请求参数"></a>5.2 请求参数</h5><p>请求参数格式：queryString</p><p>请求参数说明：</p><table><thead><tr><th>参数名称</th><th>说明</th><th>类型</th><th>是否必须</th><th>备注</th><th></th></tr></thead><tbody><tr><td>id</td><td>主键ID</td><td>number</td><td>是</td><td></td><td></td></tr></tbody></table><p>请求数据样例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=4</span><br></pre></td></tr></table></figure><h5 id="5-3-响应数据-2"><a href="#5-3-响应数据-2" class="headerlink" title="5.3 响应数据"></a>5.3 响应数据</h5><p>响应数据类型：application&#x2F;json</p><p>响应参数说明：</p><table><thead><tr><th>名称</th><th>类型</th><th>是否必须</th><th>默认值</th><th>备注</th><th>其他信息</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>必须</td><td></td><td>响应码, 200-成功,非200-失败</td><td></td></tr><tr><td>message</td><td>string</td><td>非必须</td><td></td><td>提示信息</td><td></td></tr><tr><td>data</td><td>object</td><td>非必须</td><td></td><td>返回的数据</td><td></td></tr></tbody></table><p>响应数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;操作成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="其他接口"><a href="#其他接口" class="headerlink" title="其他接口"></a>其他接口</h3><h4 id="1-文件上传接口"><a href="#1-文件上传接口" class="headerlink" title="1. 文件上传接口"></a>1. 文件上传接口</h4><h5 id="1-1-基本信息-3"><a href="#1-1-基本信息-3" class="headerlink" title="1.1 基本信息"></a>1.1 基本信息</h5><blockquote><p>请求路径：&#x2F;upload</p><p>请求方式：POST</p><p>接口描述：该接口用于上传文件(单文件)</p></blockquote><h5 id="1-2-请求参数-3"><a href="#1-2-请求参数-3" class="headerlink" title="1.2 请求参数"></a>1.2 请求参数</h5><p>请求参数格式：multipart&#x2F;form-data</p><p>请求参数说明：</p><table><thead><tr><th>参数名称</th><th>说明</th><th>类型</th><th>是否必须</th><th>备注</th><th></th></tr></thead><tbody><tr><td>file</td><td>表单中文件请求参数的名字</td><td>file</td><td>是</td><td></td><td></td></tr></tbody></table><p>请求数据样例：</p><p>无</p><h5 id="1-3-响应数据-3"><a href="#1-3-响应数据-3" class="headerlink" title="1.3 响应数据"></a>1.3 响应数据</h5><p>响应数据类型：application&#x2F;json</p><p>响应参数说明：</p><table><thead><tr><th>名称</th><th>类型</th><th>是否必须</th><th>默认值</th><th>备注</th><th>其他信息</th></tr></thead><tbody><tr><td>code</td><td>number</td><td>必须</td><td></td><td>响应码, 200-成功,非200-失败</td><td></td></tr><tr><td>message</td><td>string</td><td>非必须</td><td></td><td>提示信息</td><td></td></tr><tr><td>data</td><td>string</td><td>必须</td><td></td><td>图像在七牛云上的存储地址</td><td></td></tr></tbody></table><p>响应数据样例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;操作成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://big-event-gwd.oss-cn-beijing.aliyuncs.com/b5811871-acc8-4583-8399-cf0dc73591ab.png&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h3 id="打包"><a href="#打包" class="headerlink" title="打包"></a>打包</h3><ol>
<li><p>引入插件依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--  版本与boot版本最好一致  --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在maven处执行package命令</p>
</li>
</ol>
<h2 id="前端"><a href="#前端" class="headerlink" title="前端"></a>前端</h2><h3 id="环境搭建-1"><a href="#环境搭建-1" class="headerlink" title="环境搭建"></a>环境搭建</h3><ol>
<li><p>使用pnpm包管理器搭建项目</p>
<p>优势：比同类工具快2倍左右、节省磁盘空间…</p>
<p>安装pnpm：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g pnpm</span><br></pre></td></tr></table></figure>

<p>创建项目：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm create vue</span><br></pre></td></tr></table></figure>

<p>启动项目：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> big-event-admin</span><br><span class="line">pnpm install</span><br><span class="line">pnpm dev</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置Eslint配合Prettier规范代码</p>
<p><strong>环境同步：</strong></p>
<ol>
<li><p><strong>安装了插件 ESlint，开启保存自动修复</strong></p>
</li>
<li><p><strong>禁用了插件 Prettier，并关闭保存自动格式化</strong></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ESlint插件 + Vscode配置 实现自动格式化修复</span></span><br><span class="line"><span class="attr">&quot;editor.codeActionsOnSave&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;source.fixAll&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;editor.formatOnSave&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>配置文件 .eslintrc.cjs</strong></p>
<p>添加以下规则：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">rules</span>: &#123;</span><br><span class="line">   <span class="string">&#x27;prettier/prettier&#x27;</span>: [</span><br><span class="line">     <span class="string">&#x27;warn&#x27;</span>,</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="attr">singleQuote</span>: <span class="literal">true</span>, <span class="comment">// 单引号</span></span><br><span class="line">       <span class="attr">semi</span>: <span class="literal">false</span>, <span class="comment">// 无分号</span></span><br><span class="line">       <span class="attr">printWidth</span>: <span class="number">80</span>, <span class="comment">// 每行宽度至多80字符</span></span><br><span class="line">       <span class="attr">trailingComma</span>: <span class="string">&#x27;none&#x27;</span>, <span class="comment">// 不加对象|数组最后逗号</span></span><br><span class="line">       <span class="attr">endOfLine</span>: <span class="string">&#x27;auto&#x27;</span> <span class="comment">// 换行符号不限制（win mac 不一致）</span></span><br><span class="line">     &#125;</span><br><span class="line">   ],</span><br><span class="line">   <span class="string">&#x27;vue/multi-word-component-names&#x27;</span>: [</span><br><span class="line">     <span class="string">&#x27;warn&#x27;</span>,</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="attr">ignores</span>: [<span class="string">&#x27;index&#x27;</span>] <span class="comment">// vue组件名称多单词组成（忽略index.vue）</span></span><br><span class="line">     &#125;</span><br><span class="line">   ],</span><br><span class="line">   <span class="string">&#x27;vue/no-setup-props-destructure&#x27;</span>: [<span class="string">&#x27;off&#x27;</span>], <span class="comment">// 关闭 props 解构的校验</span></span><br><span class="line">   <span class="comment">// 💡 添加未定义变量错误提示，create-vue@3.6.3 关闭，这里加上是为了支持下一个章节演示。</span></span><br><span class="line">   <span class="string">&#x27;no-undef&#x27;</span>: <span class="string">&#x27;error&#x27;</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>目录调整</p>
<p>默认生成的目录结构不满足我们的开发需求，所以这里需要做一些自定义改动。<br>主要是以下工作:</p>
<ul>
<li><p>删除一些初始化的默认文件</p>
</li>
<li><p>修改剩余代码内容</p>
</li>
<li><p>新增调整我们需要的目录结构</p>
</li>
<li><p>拷贝全局样式和图片，安装预处理器支持</p>
<ul>
<li>将项目需要的全局样式 和 图片文件，复制到 assets 文件夹中,  并将全局样式在main.js中引入</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@/assets/main.scss&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>安装 sass 依赖</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm add sass -D</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<h3 id="配合husky提交前做代码检查"><a href="#配合husky提交前做代码检查" class="headerlink" title="配合husky提交前做代码检查"></a>配合husky提交前做代码检查</h3><p> husky 是一个 git hooks 工具  ( git的钩子工具，可以在特定时机执行特定的命令 )</p>
<ol>
<li><p>git初始化</p>
</li>
<li><p>安装husky</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm dlx husky-init &amp;&amp; pnpm install</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改 .husky&#x2F;pre-commit 文件</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-npm test</span></span><br><span class="line"><span class="addition">+pnpm lint</span></span><br></pre></td></tr></table></figure>

<p><strong>问题：</strong>默认进行的是全量检查，耗时问题，历史问题。</p>
<p><strong>解决：</strong></p>
<p><strong>lint-staged 配置：只对提交的代码做检查</strong></p>
<ol>
<li>安装</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm i lint-staged -D</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>配置 <code>package.json</code></li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// ... 省略 ...</span></span><br><span class="line">  <span class="string">&quot;lint-staged&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;*.&#123;js,ts,vue&#125;&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;eslint --fix&quot;</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="comment">// ... 省略 ...</span></span><br><span class="line">    <span class="string">&quot;lint-staged&quot;</span>: <span class="string">&quot;lint-staged&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>修改 .husky&#x2F;pre-commit 文件</li>
</ol>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-pnpm lint</span></span><br><span class="line"><span class="addition">+pnpm lint-staged</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="无端"><a href="#无端" class="headerlink" title="无端"></a>无端</h2><h3 id="ApiFox"><a href="#ApiFox" class="headerlink" title="ApiFox"></a>ApiFox</h3><p><a target="_blank" rel="noopener" href="https://apifox.com/help/">Apifox 快速入门 | Apifox 帮助文档</a></p>
<ol>
<li><p>在ApiFox上测试接口时，如果遇到需要token，每一都都要输入token，比较麻烦</p>
<p>所以使用ApiFox的前置脚本，为每一次请求添加token</p>
<p>但是要注意token的有效期</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm.<span class="property">request</span>.<span class="property">headers</span>.<span class="title function_">add</span>(<span class="string">&quot;Authorization:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGFpbXMiOnsiaWQiOjMsInVzZXJuYW1lIjoiYWRtaW4ifSwiZXhwIjoxNzAyMjU1NzQ2fQ.qd0Mza6Y6dYsrOwaE0-JlmBoOa3XwWkRiXmi6vE5IOQ&quot;</span>);</span><br></pre></td></tr></table></figure></li>
</ol>
<details class="folding-tag" green><summary> 代码折叠框 </summary>
              <div class='content'>
              
              </div>
            </details>

</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/avatar.gif" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/avatar.gif" title="头像" alt="头像"></a><div class="post-copyright__author_name">小黄鸭睡大觉</div><div class="post-copyright__author_desc">睡一觉吧，一切都会过去的</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://example.com/2023/12/10/SpringBoot3+Vue3%E7%BB%83%E6%89%8B%E5%B0%8F%E9%A1%B9%E7%9B%AE%EF%BC%88%E5%8D%95%E4%BD%93%EF%BC%89/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://example.com/2023/12/10/SpringBoot3+Vue3%E7%BB%83%E6%89%8B%E5%B0%8F%E9%A1%B9%E7%9B%AE%EF%BC%88%E5%8D%95%E4%BD%93%EF%BC%89/')">大事件（新闻后台管理）</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/imagese9da38ace7c6efebbc019165f19ba97.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/imagese9da38ace7c6efebbc019165f19ba97.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/images13f7b013f6af1a826dd7b722331f760.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/images13f7b013f6af1a826dd7b722331f760.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://example.com/2023/12/10/SpringBoot3+Vue3%E7%BB%83%E6%89%8B%E5%B0%8F%E9%A1%B9%E7%9B%AE%EF%BC%88%E5%8D%95%E4%BD%93%EF%BC%89/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=大事件（新闻后台管理）&amp;url=http://example.com/2023/12/10/SpringBoot3+Vue3%E7%BB%83%E6%89%8B%E5%B0%8F%E9%A1%B9%E7%9B%AE%EF%BC%88%E5%8D%95%E4%BD%93%EF%BC%89/&amp;pic=https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/image-20231210081125494.png" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">小黄鸭的博客</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/Vue3/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Vue3<span class="tagsPageCount">2</span></a><a class="post-meta__box__tags" href="/tags/SpringBoot3/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>SpringBoot3<span class="tagsPageCount">1</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/image-20231210081125494.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2023/12/05/Vue3%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/image-20231205145151241.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Vue3快速上手</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/2023/12/05/Vue3%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/" title="Vue3快速上手"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/image-20231205145151241.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-12-05</div><div class="title">Vue3快速上手</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div><div class="comment-tips" id="comment-tips"><span>✅ 你无需删除空行，直接评论以获取最佳展示效果</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/avatar.gif" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/24/64e6ce9c507bb.png" alt="status"/></div></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">这有关于<b style="color:#fff">前后端</b>相关的问题和看法，还有<b style="color:#fff">日常生活的分享</b>。</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">相信你可以在这里找到对你有用的<b style="color:#fff">知识</b>和<b style="color:#fff">教程</b>。</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">小黄鸭睡大觉</h1><div class="author-info__desc">睡一觉吧，一切都会过去的</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/CodeByGzt" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/444464448" target="_blank" title="BiliBili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%A7%E4%BA%8B%E4%BB%B6%EF%BC%88%E5%8D%95%E4%BD%93%E6%96%B0%E9%97%BB%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%EF%BC%89"><span class="toc-text">大事件（单体新闻后台管理）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8E%E7%AB%AF"><span class="toc-text">后端</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%8E%A5%E5%8F%A3%E6%B5%81%E7%A8%8B"><span class="toc-text">开发接口流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-text">环境搭建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SpringBoot%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F"><span class="toc-text">SpringBoot配置方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E6%88%90Redis"><span class="toc-text">集成Redis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E6%A0%A1%E9%AA%8C%E6%A1%86%E6%9E%B6Spring-Validation"><span class="toc-text">参数校验框架Spring Validation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%9F%E4%B8%80%E5%93%8D%E5%BA%94%E7%BB%93%E6%9E%9C"><span class="toc-text">统一响应结果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JWT%E7%99%BB%E9%99%86%E9%AA%8C%E8%AF%81"><span class="toc-text">JWT登陆验证</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ThreadLocal%E5%AD%98%E5%82%A8%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-text">ThreadLocal存储用户信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OSS%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8%EF%BC%88%E4%B8%83%E7%89%9B%E4%BA%91%EF%BC%89"><span class="toc-text">OSS对象存储（七牛云）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FastJson%E9%85%8D%E7%BD%AE"><span class="toc-text">FastJson配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%9B%B8%E5%85%B3%E6%8E%A5%E5%8F%A3"><span class="toc-text">用户相关接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%B3%A8%E5%86%8C"><span class="toc-text">1. 注册</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-text">1.1 基本信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0"><span class="toc-text">1.2 请求参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-3-%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE"><span class="toc-text">1.3 响应数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%99%BB%E5%BD%95"><span class="toc-text">2.登录</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-1-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-text">2.1 基本信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0"><span class="toc-text">2.2 请求参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-3-%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE"><span class="toc-text">2.3 响应数据</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-4-%E5%A4%87%E6%B3%A8%E8%AF%B4%E6%98%8E"><span class="toc-text">2.4 备注说明</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF"><span class="toc-text">3.获取用户详细信息</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-text">3.1 基本信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0"><span class="toc-text">3.2 请求参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE"><span class="toc-text">3.3 响应数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E6%9B%B4%E6%96%B0%E7%94%A8%E6%88%B7%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-text">4.更新用户基本信息</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#4-1-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-text">4.1 基本信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-2-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0"><span class="toc-text">4.2 请求参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-3-%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE"><span class="toc-text">4.3 响应数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E6%9B%B4%E6%96%B0%E7%94%A8%E6%88%B7%E5%A4%B4%E5%83%8F"><span class="toc-text">5.更新用户头像</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#5-1-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-text">5.1 基本信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-2-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0"><span class="toc-text">5.2 请求参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-3-%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE"><span class="toc-text">5.3 响应数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E6%9B%B4%E6%96%B0%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81"><span class="toc-text">6.更新用户密码</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#6-1-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-text">6.1 基本信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-2-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0"><span class="toc-text">6.2 请求参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-3-%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE"><span class="toc-text">6.3 响应数据</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB%E7%9B%B8%E5%85%B3%E6%8E%A5%E5%8F%A3"><span class="toc-text">文章分类相关接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%96%B0%E5%A2%9E%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB"><span class="toc-text">1 新增文章分类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF-1"><span class="toc-text">1.1 基本信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0-1"><span class="toc-text">1.2 请求参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-3-%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE-1"><span class="toc-text">1.3 响应数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB%E5%88%97%E8%A1%A8"><span class="toc-text">2. 文章分类列表</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-1-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF-1"><span class="toc-text">2.1 基本信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0-1"><span class="toc-text">2.2 请求参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-3-%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE-1"><span class="toc-text">2.3 响应数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E8%8E%B7%E5%8F%96%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB%E8%AF%A6%E6%83%85"><span class="toc-text">3.获取文章分类详情</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF-1"><span class="toc-text">3.1 基本信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0-1"><span class="toc-text">3.2 请求参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE-1"><span class="toc-text">3.3 响应数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E6%9B%B4%E6%96%B0%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB"><span class="toc-text">4. 更新文章分类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#4-1-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF-1"><span class="toc-text">4.1 基本信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-2-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0-1"><span class="toc-text">4.2 请求参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-3-%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE-1"><span class="toc-text">4.3 响应数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E5%88%A0%E9%99%A4%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB"><span class="toc-text">5.删除文章分类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#5-1-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF-1"><span class="toc-text">5.1 基本信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-2-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0-1"><span class="toc-text">5.2 请求参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-3-%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE-1"><span class="toc-text">5.3 响应数据</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%AE%A1%E7%90%86%E7%9B%B8%E5%85%B3%E6%8E%A5%E5%8F%A3"><span class="toc-text">文章管理相关接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%96%B0%E5%A2%9E%E6%96%87%E7%AB%A0"><span class="toc-text">1. 新增文章</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF-2"><span class="toc-text">1.1 基本信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0-2"><span class="toc-text">1.2 请求参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-3-%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE-2"><span class="toc-text">1.3 响应数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%96%87%E7%AB%A0%E5%88%97%E8%A1%A8%EF%BC%88%E6%9D%A1%E4%BB%B6%E5%88%86%E9%A1%B5%EF%BC%89"><span class="toc-text">2. 文章列表（条件分页）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-1-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF-2"><span class="toc-text">2.1 基本信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0-2"><span class="toc-text">2.2 请求参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-3-%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE-2"><span class="toc-text">2.3 响应数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%96%87%E7%AB%A0%E8%AF%A6%E6%83%85"><span class="toc-text">3. 文章详情</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF-2"><span class="toc-text">3.1 基本信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0-2"><span class="toc-text">3.2 请求参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE-2"><span class="toc-text">3.3 响应数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E6%9B%B4%E6%96%B0%E6%96%87%E7%AB%A0"><span class="toc-text">4. 更新文章</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#4-1-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF-2"><span class="toc-text">4.1 基本信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-2-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0-2"><span class="toc-text">4.2 请求参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-3-%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE-2"><span class="toc-text">4.3 响应数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E5%88%A0%E9%99%A4%E6%96%87%E7%AB%A0"><span class="toc-text">5. 删除文章</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#5-1-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF-2"><span class="toc-text">5.1 基本信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-2-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0-2"><span class="toc-text">5.2 请求参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-3-%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE-2"><span class="toc-text">5.3 响应数据</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%8E%A5%E5%8F%A3"><span class="toc-text">其他接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%8E%A5%E5%8F%A3"><span class="toc-text">1. 文件上传接口</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF-3"><span class="toc-text">1.1 基本信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-2-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0-3"><span class="toc-text">1.2 请求参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-3-%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE-3"><span class="toc-text">1.3 响应数据</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8C%85"><span class="toc-text">打包</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF"><span class="toc-text">前端</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-1"><span class="toc-text">环境搭建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E5%90%88husky%E6%8F%90%E4%BA%A4%E5%89%8D%E5%81%9A%E4%BB%A3%E7%A0%81%E6%A3%80%E6%9F%A5"><span class="toc-text">配合husky提交前做代码检查</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A0%E7%AB%AF"><span class="toc-text">无端</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ApiFox"><span class="toc-text">ApiFox</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/12/10/SpringBoot3+Vue3%E7%BB%83%E6%89%8B%E5%B0%8F%E9%A1%B9%E7%9B%AE%EF%BC%88%E5%8D%95%E4%BD%93%EF%BC%89/" title="大事件（新闻后台管理）"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/image-20231210081125494.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="大事件（新闻后台管理）"/></a><div class="content"><a class="title" href="/2023/12/10/SpringBoot3+Vue3%E7%BB%83%E6%89%8B%E5%B0%8F%E9%A1%B9%E7%9B%AE%EF%BC%88%E5%8D%95%E4%BD%93%EF%BC%89/" title="大事件（新闻后台管理）">大事件（新闻后台管理）</a><time datetime="2023-12-10T08:00:19.000Z" title="发表于 2023-12-10 08:00:19">2023-12-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/12/05/Vue3%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/" title="Vue3快速上手"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/image-20231205145151241.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vue3快速上手"/></a><div class="content"><a class="title" href="/2023/12/05/Vue3%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/" title="Vue3快速上手">Vue3快速上手</a><time datetime="2023-12-05T11:30:19.000Z" title="发表于 2023-12-05 11:30:19">2023-12-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/21/Docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Docker学习笔记"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/20231130143156.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker学习笔记"/></a><div class="content"><a class="title" href="/2023/10/21/Docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Docker学习笔记">Docker学习笔记</a><time datetime="2023-10-21T11:30:19.000Z" title="发表于 2023-10-21 11:30:19">2023-10-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/01/Typora%20+%20PicGo%20+%20OSS%20%E9%85%8D%E7%BD%AE%E5%9B%BE%E5%BA%8A/" title="Typora + PicGo + OSS 配置图床"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://zhkt-gzt.oss-cn-beijing.aliyuncs.com/blog/20231202203120.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Typora + PicGo + OSS 配置图床"/></a><div class="content"><a class="title" href="/2023/08/01/Typora%20+%20PicGo%20+%20OSS%20%E9%85%8D%E7%BD%AE%E5%9B%BE%E5%BA%8A/" title="Typora + PicGo + OSS 配置图床">Typora + PicGo + OSS 配置图床</a><time datetime="2023-08-01T22:50:45.000Z" title="发表于 2023-08-01 22:50:45">2023-08-01</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 小黄鸭睡大觉</div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">4</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">4</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://codebygzt.github.io/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Docker/" style="font-size: 0.88rem;">Docker<sup>1</sup></a><a href="/tags/SpringBoot3/" style="font-size: 0.88rem;">SpringBoot3<sup>1</sup></a><a href="/tags/Vue3/" style="font-size: 0.88rem;">Vue3<sup>2</sup></a><a href="/tags/%E5%9B%BE%E7%89%87%E5%AD%98%E5%82%A8/" style="font-size: 0.88rem;">图片存储<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.4/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2020 By 安知鱼 V1.6.10",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 小黄鸭睡大觉 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.cbd.int/mermaid@10.2.4/dist/mermaid.min.js').then(runMermaid)
  }

  anzhiyu.addGlobalFn('themeChange', runMermaid, 'mermaid')

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://yellowduck.netlify.app/.netlify/functions/twikoo',
      region: '',
      onCommentLoaded: () => {
        anzhiyu.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(runFn,0)
    else getScript('https://cdn.cbd.int/twikoo@1.6.25/dist/twikoo.all.min.js').then(runFn)
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://yellowduck.netlify.app/.netlify/functions/twikoo',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const runFn = () => {
    init();
    
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) anzhiyu.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else {
      loadTwikoo()
    }
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://yellowduck.netlify.app/.netlify/functions/twikoo',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.cbd.int/twikoo@1.6.25/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'><div class='name'><span>${array[i].nick} </span></div></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script>var visitorMail = "visitor@anheyu.com";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","meta[property=\"og:type\"]","meta[property=\"og:site_name\"]","meta[property=\"og:description\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>